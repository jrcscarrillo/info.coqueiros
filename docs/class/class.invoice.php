
<!-- begin of generated class -->
<?php
/*
*
* -------------------------------------------------------
* CLASSNAME:        invoice
* GENERATION DATE:  16.09.2017
* CLASS FILE:       C:\wamp64\www\genera_clase/generated_classes/class.invoice.php
* FOR MYSQL TABLE:  invoice
* FOR MYSQL DB:     dbaurora
* -------------------------------------------------------
* CODE GENERATED BY:
* MY PHP-MYSQL-CLASS GENERATOR
* from: >> www.voegeli.li >> (download for free!)
* modify: >> www.aurora-ec.net >> (download for free!)
* -------------------------------------------------------
*
*/
include_once("class.aurora.php");
// **********************
// CLASS DECLARATION
// **********************

class invoice
{ // class : begin


// **********************
// ATTRIBUTE DECLARATION
// **********************


public $TxnID;   // (normal Attribute)
public $TimeCreated;   // (normal Attribute)
public $TimeModified;   // (normal Attribute)
public $EditSequence;   // (normal Attribute)
public $TxnNumber;   // (normal Attribute)
public $CustomerRef_ListID;   // (normal Attribute)
public $CustomerRef_FullName;   // (normal Attribute)
public $ClassRef_ListID;   // (normal Attribute)
public $ClassRef_FullName;   // (normal Attribute)
public $ARAccountRef_ListID;   // (normal Attribute)
public $ARAccountRef_FullName;   // (normal Attribute)
public $TemplateRef_ListID;   // (normal Attribute)
public $TemplateRef_FullName;   // (normal Attribute)
public $TxnDate;   // (normal Attribute)
public $RefNumber;   // (normal Attribute)
public $BillAddress_Addr1;   // (normal Attribute)
public $BillAddress_Addr2;   // (normal Attribute)
public $BillAddress_Addr3;   // (normal Attribute)
public $BillAddress_Addr4;   // (normal Attribute)
public $BillAddress_Addr5;   // (normal Attribute)
public $BillAddress_City;   // (normal Attribute)
public $BillAddress_State;   // (normal Attribute)
public $BillAddress_PostalCode;   // (normal Attribute)
public $BillAddress_Country;   // (normal Attribute)
public $BillAddress_Note;   // (normal Attribute)
public $ShipAddress_Addr1;   // (normal Attribute)
public $ShipAddress_Addr2;   // (normal Attribute)
public $ShipAddress_Addr3;   // (normal Attribute)
public $ShipAddress_Addr4;   // (normal Attribute)
public $ShipAddress_Addr5;   // (normal Attribute)
public $ShipAddress_City;   // (normal Attribute)
public $ShipAddress_State;   // (normal Attribute)
public $ShipAddress_PostalCode;   // (normal Attribute)
public $ShipAddress_Country;   // (normal Attribute)
public $ShipAddress_Note;   // (normal Attribute)
public $IsPending;   // (normal Attribute)
public $IsFinanceCharge;   // (normal Attribute)
public $PONumber;   // (normal Attribute)
public $TermsRef_ListID;   // (normal Attribute)
public $TermsRef_FullName;   // (normal Attribute)
public $DueDate;   // (normal Attribute)
public $SalesRepRef_ListID;   // (normal Attribute)
public $SalesRepRef_FullName;   // (normal Attribute)
public $FOB;   // (normal Attribute)
public $ShipDate;   // (normal Attribute)
public $ShipMethodRef_ListID;   // (normal Attribute)
public $ShipMethodRef_FullName;   // (normal Attribute)
public $Subtotal;   // (normal Attribute)
public $ItemSalesTaxRef_ListID;   // (normal Attribute)
public $ItemSalesTaxRef_FullName;   // (normal Attribute)
public $SalesTaxPercentage;   // (normal Attribute)
public $SalesTaxTotal;   // (normal Attribute)
public $AppliedAmount;   // (normal Attribute)
public $BalanceRemaining;   // (normal Attribute)
public $CurrencyRef_ListID;   // (normal Attribute)
public $CurrencyRef_FullName;   // (normal Attribute)
public $ExchangeRate;   // (normal Attribute)
public $BalanceRemainingInHomeCurrency;   // (normal Attribute)
public $Memo;   // (normal Attribute)
public $IsPaid;   // (normal Attribute)
public $CustomerMsgRef_ListID;   // (normal Attribute)
public $CustomerMsgRef_FullName;   // (normal Attribute)
public $IsToBePrinted;   // (normal Attribute)
public $IsToBeEmailed;   // (normal Attribute)
public $IsTaxIncluded;   // (normal Attribute)
public $CustomerSalesTaxCodeRef_ListID;   // (normal Attribute)
public $CustomerSalesTaxCodeRef_FullName;   // (normal Attribute)
public $SuggestedDiscountAmount;   // (normal Attribute)
public $SuggestedDiscountDate;   // (normal Attribute)
public $Other;   // (normal Attribute)
public $CustomField1;   // (normal Attribute)
public $CustomField2;   // (normal Attribute)
public $CustomField3;   // (normal Attribute)
public $CustomField4;   // (normal Attribute)
public $CustomField5;   // (normal Attribute)
public $CustomField6;   // (normal Attribute)
public $CustomField7;   // (normal Attribute)
public $CustomField8;   // (normal Attribute)
public $CustomField9;   // (normal Attribute)
public $CustomField10;   // (normal Attribute)
public $CustomField11;   // (normal Attribute)
public $CustomField12;   // (normal Attribute)
public $CustomField13;   // (normal Attribute)
public $CustomField14;   // (normal Attribute)
public $CustomField15;   // (normal Attribute)
public $Status;   // (normal Attribute)

var $db; // Instance of class database


// **********************
// CONSTRUCTOR METHOD
// **********************

function __construct()
{

$this->db = conecta_PDO();
}

function __destruct()
{


}

function genJson_invoice($jsonString)
{
$_SESSION['invoice']['TxnID'] = $jsonString->TxnID;
$_SESSION['invoice']['TimeCreated'] = $jsonString->TimeCreated;
$_SESSION['invoice']['TimeModified'] = $jsonString->TimeModified;
$_SESSION['invoice']['EditSequence'] = $jsonString->EditSequence;
$_SESSION['invoice']['TxnNumber'] = $jsonString->TxnNumber;
$_SESSION['invoice']['CustomerRef_ListID'] = $jsonString->CustomerRef_ListID;
$_SESSION['invoice']['CustomerRef_FullName'] = $jsonString->CustomerRef_FullName;
$_SESSION['invoice']['ClassRef_ListID'] = $jsonString->ClassRef_ListID;
$_SESSION['invoice']['ClassRef_FullName'] = $jsonString->ClassRef_FullName;
$_SESSION['invoice']['ARAccountRef_ListID'] = $jsonString->ARAccountRef_ListID;
$_SESSION['invoice']['ARAccountRef_FullName'] = $jsonString->ARAccountRef_FullName;
$_SESSION['invoice']['TemplateRef_ListID'] = $jsonString->TemplateRef_ListID;
$_SESSION['invoice']['TemplateRef_FullName'] = $jsonString->TemplateRef_FullName;
$_SESSION['invoice']['TxnDate'] = $jsonString->TxnDate;
$_SESSION['invoice']['RefNumber'] = $jsonString->RefNumber;
$_SESSION['invoice']['BillAddress_Addr1'] = $jsonString->BillAddress_Addr1;
$_SESSION['invoice']['BillAddress_Addr2'] = $jsonString->BillAddress_Addr2;
$_SESSION['invoice']['BillAddress_Addr3'] = $jsonString->BillAddress_Addr3;
$_SESSION['invoice']['BillAddress_Addr4'] = $jsonString->BillAddress_Addr4;
$_SESSION['invoice']['BillAddress_Addr5'] = $jsonString->BillAddress_Addr5;
$_SESSION['invoice']['BillAddress_City'] = $jsonString->BillAddress_City;
$_SESSION['invoice']['BillAddress_State'] = $jsonString->BillAddress_State;
$_SESSION['invoice']['BillAddress_PostalCode'] = $jsonString->BillAddress_PostalCode;
$_SESSION['invoice']['BillAddress_Country'] = $jsonString->BillAddress_Country;
$_SESSION['invoice']['BillAddress_Note'] = $jsonString->BillAddress_Note;
$_SESSION['invoice']['ShipAddress_Addr1'] = $jsonString->ShipAddress_Addr1;
$_SESSION['invoice']['ShipAddress_Addr2'] = $jsonString->ShipAddress_Addr2;
$_SESSION['invoice']['ShipAddress_Addr3'] = $jsonString->ShipAddress_Addr3;
$_SESSION['invoice']['ShipAddress_Addr4'] = $jsonString->ShipAddress_Addr4;
$_SESSION['invoice']['ShipAddress_Addr5'] = $jsonString->ShipAddress_Addr5;
$_SESSION['invoice']['ShipAddress_City'] = $jsonString->ShipAddress_City;
$_SESSION['invoice']['ShipAddress_State'] = $jsonString->ShipAddress_State;
$_SESSION['invoice']['ShipAddress_PostalCode'] = $jsonString->ShipAddress_PostalCode;
$_SESSION['invoice']['ShipAddress_Country'] = $jsonString->ShipAddress_Country;
$_SESSION['invoice']['ShipAddress_Note'] = $jsonString->ShipAddress_Note;
$_SESSION['invoice']['IsPending'] = $jsonString->IsPending;
$_SESSION['invoice']['IsFinanceCharge'] = $jsonString->IsFinanceCharge;
$_SESSION['invoice']['PONumber'] = $jsonString->PONumber;
$_SESSION['invoice']['TermsRef_ListID'] = $jsonString->TermsRef_ListID;
$_SESSION['invoice']['TermsRef_FullName'] = $jsonString->TermsRef_FullName;
$_SESSION['invoice']['DueDate'] = $jsonString->DueDate;
$_SESSION['invoice']['SalesRepRef_ListID'] = $jsonString->SalesRepRef_ListID;
$_SESSION['invoice']['SalesRepRef_FullName'] = $jsonString->SalesRepRef_FullName;
$_SESSION['invoice']['FOB'] = $jsonString->FOB;
$_SESSION['invoice']['ShipDate'] = $jsonString->ShipDate;
$_SESSION['invoice']['ShipMethodRef_ListID'] = $jsonString->ShipMethodRef_ListID;
$_SESSION['invoice']['ShipMethodRef_FullName'] = $jsonString->ShipMethodRef_FullName;
$_SESSION['invoice']['Subtotal'] = $jsonString->Subtotal;
$_SESSION['invoice']['ItemSalesTaxRef_ListID'] = $jsonString->ItemSalesTaxRef_ListID;
$_SESSION['invoice']['ItemSalesTaxRef_FullName'] = $jsonString->ItemSalesTaxRef_FullName;
$_SESSION['invoice']['SalesTaxPercentage'] = $jsonString->SalesTaxPercentage;
$_SESSION['invoice']['SalesTaxTotal'] = $jsonString->SalesTaxTotal;
$_SESSION['invoice']['AppliedAmount'] = $jsonString->AppliedAmount;
$_SESSION['invoice']['BalanceRemaining'] = $jsonString->BalanceRemaining;
$_SESSION['invoice']['CurrencyRef_ListID'] = $jsonString->CurrencyRef_ListID;
$_SESSION['invoice']['CurrencyRef_FullName'] = $jsonString->CurrencyRef_FullName;
$_SESSION['invoice']['ExchangeRate'] = $jsonString->ExchangeRate;
$_SESSION['invoice']['BalanceRemainingInHomeCurrency'] = $jsonString->BalanceRemainingInHomeCurrency;
$_SESSION['invoice']['Memo'] = $jsonString->Memo;
$_SESSION['invoice']['IsPaid'] = $jsonString->IsPaid;
$_SESSION['invoice']['CustomerMsgRef_ListID'] = $jsonString->CustomerMsgRef_ListID;
$_SESSION['invoice']['CustomerMsgRef_FullName'] = $jsonString->CustomerMsgRef_FullName;
$_SESSION['invoice']['IsToBePrinted'] = $jsonString->IsToBePrinted;
$_SESSION['invoice']['IsToBeEmailed'] = $jsonString->IsToBeEmailed;
$_SESSION['invoice']['IsTaxIncluded'] = $jsonString->IsTaxIncluded;
$_SESSION['invoice']['CustomerSalesTaxCodeRef_ListID'] = $jsonString->CustomerSalesTaxCodeRef_ListID;
$_SESSION['invoice']['CustomerSalesTaxCodeRef_FullName'] = $jsonString->CustomerSalesTaxCodeRef_FullName;
$_SESSION['invoice']['SuggestedDiscountAmount'] = $jsonString->SuggestedDiscountAmount;
$_SESSION['invoice']['SuggestedDiscountDate'] = $jsonString->SuggestedDiscountDate;
$_SESSION['invoice']['Other'] = $jsonString->Other;
$_SESSION['invoice']['CustomField1'] = $jsonString->CustomField1;
$_SESSION['invoice']['CustomField2'] = $jsonString->CustomField2;
$_SESSION['invoice']['CustomField3'] = $jsonString->CustomField3;
$_SESSION['invoice']['CustomField4'] = $jsonString->CustomField4;
$_SESSION['invoice']['CustomField5'] = $jsonString->CustomField5;
$_SESSION['invoice']['CustomField6'] = $jsonString->CustomField6;
$_SESSION['invoice']['CustomField7'] = $jsonString->CustomField7;
$_SESSION['invoice']['CustomField8'] = $jsonString->CustomField8;
$_SESSION['invoice']['CustomField9'] = $jsonString->CustomField9;
$_SESSION['invoice']['CustomField10'] = $jsonString->CustomField10;
$_SESSION['invoice']['CustomField11'] = $jsonString->CustomField11;
$_SESSION['invoice']['CustomField12'] = $jsonString->CustomField12;
$_SESSION['invoice']['CustomField13'] = $jsonString->CustomField13;
$_SESSION['invoice']['CustomField14'] = $jsonString->CustomField14;
$_SESSION['invoice']['CustomField15'] = $jsonString->CustomField15;
$_SESSION['invoice']['Status'] = $jsonString->Status;

}

function genInsert_invoice()
{
$this->setTxnID($_SESSION['invoice']['TxnID']);
$this->setTimeCreated($_SESSION['invoice']['TimeCreated']);
$this->setTimeModified($_SESSION['invoice']['TimeModified']);
$this->setEditSequence($_SESSION['invoice']['EditSequence']);
$this->setTxnNumber($_SESSION['invoice']['TxnNumber']);
$this->setCustomerRef_ListID($_SESSION['invoice']['CustomerRef_ListID']);
$this->setCustomerRef_FullName($_SESSION['invoice']['CustomerRef_FullName']);
$this->setClassRef_ListID($_SESSION['invoice']['ClassRef_ListID']);
$this->setClassRef_FullName($_SESSION['invoice']['ClassRef_FullName']);
$this->setARAccountRef_ListID($_SESSION['invoice']['ARAccountRef_ListID']);
$this->setARAccountRef_FullName($_SESSION['invoice']['ARAccountRef_FullName']);
$this->setTemplateRef_ListID($_SESSION['invoice']['TemplateRef_ListID']);
$this->setTemplateRef_FullName($_SESSION['invoice']['TemplateRef_FullName']);
$this->setTxnDate($_SESSION['invoice']['TxnDate']);
$this->setRefNumber($_SESSION['invoice']['RefNumber']);
$this->setBillAddress_Addr1($_SESSION['invoice']['BillAddress_Addr1']);
$this->setBillAddress_Addr2($_SESSION['invoice']['BillAddress_Addr2']);
$this->setBillAddress_Addr3($_SESSION['invoice']['BillAddress_Addr3']);
$this->setBillAddress_Addr4($_SESSION['invoice']['BillAddress_Addr4']);
$this->setBillAddress_Addr5($_SESSION['invoice']['BillAddress_Addr5']);
$this->setBillAddress_City($_SESSION['invoice']['BillAddress_City']);
$this->setBillAddress_State($_SESSION['invoice']['BillAddress_State']);
$this->setBillAddress_PostalCode($_SESSION['invoice']['BillAddress_PostalCode']);
$this->setBillAddress_Country($_SESSION['invoice']['BillAddress_Country']);
$this->setBillAddress_Note($_SESSION['invoice']['BillAddress_Note']);
$this->setShipAddress_Addr1($_SESSION['invoice']['ShipAddress_Addr1']);
$this->setShipAddress_Addr2($_SESSION['invoice']['ShipAddress_Addr2']);
$this->setShipAddress_Addr3($_SESSION['invoice']['ShipAddress_Addr3']);
$this->setShipAddress_Addr4($_SESSION['invoice']['ShipAddress_Addr4']);
$this->setShipAddress_Addr5($_SESSION['invoice']['ShipAddress_Addr5']);
$this->setShipAddress_City($_SESSION['invoice']['ShipAddress_City']);
$this->setShipAddress_State($_SESSION['invoice']['ShipAddress_State']);
$this->setShipAddress_PostalCode($_SESSION['invoice']['ShipAddress_PostalCode']);
$this->setShipAddress_Country($_SESSION['invoice']['ShipAddress_Country']);
$this->setShipAddress_Note($_SESSION['invoice']['ShipAddress_Note']);
$this->setIsPending($_SESSION['invoice']['IsPending']);
$this->setIsFinanceCharge($_SESSION['invoice']['IsFinanceCharge']);
$this->setPONumber($_SESSION['invoice']['PONumber']);
$this->setTermsRef_ListID($_SESSION['invoice']['TermsRef_ListID']);
$this->setTermsRef_FullName($_SESSION['invoice']['TermsRef_FullName']);
$this->setDueDate($_SESSION['invoice']['DueDate']);
$this->setSalesRepRef_ListID($_SESSION['invoice']['SalesRepRef_ListID']);
$this->setSalesRepRef_FullName($_SESSION['invoice']['SalesRepRef_FullName']);
$this->setFOB($_SESSION['invoice']['FOB']);
$this->setShipDate($_SESSION['invoice']['ShipDate']);
$this->setShipMethodRef_ListID($_SESSION['invoice']['ShipMethodRef_ListID']);
$this->setShipMethodRef_FullName($_SESSION['invoice']['ShipMethodRef_FullName']);
$this->setSubtotal($_SESSION['invoice']['Subtotal']);
$this->setItemSalesTaxRef_ListID($_SESSION['invoice']['ItemSalesTaxRef_ListID']);
$this->setItemSalesTaxRef_FullName($_SESSION['invoice']['ItemSalesTaxRef_FullName']);
$this->setSalesTaxPercentage($_SESSION['invoice']['SalesTaxPercentage']);
$this->setSalesTaxTotal($_SESSION['invoice']['SalesTaxTotal']);
$this->setAppliedAmount($_SESSION['invoice']['AppliedAmount']);
$this->setBalanceRemaining($_SESSION['invoice']['BalanceRemaining']);
$this->setCurrencyRef_ListID($_SESSION['invoice']['CurrencyRef_ListID']);
$this->setCurrencyRef_FullName($_SESSION['invoice']['CurrencyRef_FullName']);
$this->setExchangeRate($_SESSION['invoice']['ExchangeRate']);
$this->setBalanceRemainingInHomeCurrency($_SESSION['invoice']['BalanceRemainingInHomeCurrency']);
$this->setMemo($_SESSION['invoice']['Memo']);
$this->setIsPaid($_SESSION['invoice']['IsPaid']);
$this->setCustomerMsgRef_ListID($_SESSION['invoice']['CustomerMsgRef_ListID']);
$this->setCustomerMsgRef_FullName($_SESSION['invoice']['CustomerMsgRef_FullName']);
$this->setIsToBePrinted($_SESSION['invoice']['IsToBePrinted']);
$this->setIsToBeEmailed($_SESSION['invoice']['IsToBeEmailed']);
$this->setIsTaxIncluded($_SESSION['invoice']['IsTaxIncluded']);
$this->setCustomerSalesTaxCodeRef_ListID($_SESSION['invoice']['CustomerSalesTaxCodeRef_ListID']);
$this->setCustomerSalesTaxCodeRef_FullName($_SESSION['invoice']['CustomerSalesTaxCodeRef_FullName']);
$this->setSuggestedDiscountAmount($_SESSION['invoice']['SuggestedDiscountAmount']);
$this->setSuggestedDiscountDate($_SESSION['invoice']['SuggestedDiscountDate']);
$this->setOther($_SESSION['invoice']['Other']);
$this->setCustomField1($_SESSION['invoice']['CustomField1']);
$this->setCustomField2($_SESSION['invoice']['CustomField2']);
$this->setCustomField3($_SESSION['invoice']['CustomField3']);
$this->setCustomField4($_SESSION['invoice']['CustomField4']);
$this->setCustomField5($_SESSION['invoice']['CustomField5']);
$this->setCustomField6($_SESSION['invoice']['CustomField6']);
$this->setCustomField7($_SESSION['invoice']['CustomField7']);
$this->setCustomField8($_SESSION['invoice']['CustomField8']);
$this->setCustomField9($_SESSION['invoice']['CustomField9']);
$this->setCustomField10($_SESSION['invoice']['CustomField10']);
$this->setCustomField11($_SESSION['invoice']['CustomField11']);
$this->setCustomField12($_SESSION['invoice']['CustomField12']);
$this->setCustomField13($_SESSION['invoice']['CustomField13']);
$this->setCustomField14($_SESSION['invoice']['CustomField14']);
$this->setCustomField15($_SESSION['invoice']['CustomField15']);
$this->setStatus($_SESSION['invoice']['Status']);

}

function genLimpia_invoice()
{
$_SESSION['invoice']['TxnID'] = ' ';
$_SESSION['invoice']['TimeCreated'] = ' ';
$_SESSION['invoice']['TimeModified'] = ' ';
$_SESSION['invoice']['EditSequence'] = ' ';
$_SESSION['invoice']['TxnNumber'] = ' ';
$_SESSION['invoice']['CustomerRef_ListID'] = ' ';
$_SESSION['invoice']['CustomerRef_FullName'] = ' ';
$_SESSION['invoice']['ClassRef_ListID'] = ' ';
$_SESSION['invoice']['ClassRef_FullName'] = ' ';
$_SESSION['invoice']['ARAccountRef_ListID'] = ' ';
$_SESSION['invoice']['ARAccountRef_FullName'] = ' ';
$_SESSION['invoice']['TemplateRef_ListID'] = ' ';
$_SESSION['invoice']['TemplateRef_FullName'] = ' ';
$_SESSION['invoice']['TxnDate'] = ' ';
$_SESSION['invoice']['RefNumber'] = ' ';
$_SESSION['invoice']['BillAddress_Addr1'] = ' ';
$_SESSION['invoice']['BillAddress_Addr2'] = ' ';
$_SESSION['invoice']['BillAddress_Addr3'] = ' ';
$_SESSION['invoice']['BillAddress_Addr4'] = ' ';
$_SESSION['invoice']['BillAddress_Addr5'] = ' ';
$_SESSION['invoice']['BillAddress_City'] = ' ';
$_SESSION['invoice']['BillAddress_State'] = ' ';
$_SESSION['invoice']['BillAddress_PostalCode'] = ' ';
$_SESSION['invoice']['BillAddress_Country'] = ' ';
$_SESSION['invoice']['BillAddress_Note'] = ' ';
$_SESSION['invoice']['ShipAddress_Addr1'] = ' ';
$_SESSION['invoice']['ShipAddress_Addr2'] = ' ';
$_SESSION['invoice']['ShipAddress_Addr3'] = ' ';
$_SESSION['invoice']['ShipAddress_Addr4'] = ' ';
$_SESSION['invoice']['ShipAddress_Addr5'] = ' ';
$_SESSION['invoice']['ShipAddress_City'] = ' ';
$_SESSION['invoice']['ShipAddress_State'] = ' ';
$_SESSION['invoice']['ShipAddress_PostalCode'] = ' ';
$_SESSION['invoice']['ShipAddress_Country'] = ' ';
$_SESSION['invoice']['ShipAddress_Note'] = ' ';
$_SESSION['invoice']['IsPending'] = ' ';
$_SESSION['invoice']['IsFinanceCharge'] = ' ';
$_SESSION['invoice']['PONumber'] = ' ';
$_SESSION['invoice']['TermsRef_ListID'] = ' ';
$_SESSION['invoice']['TermsRef_FullName'] = ' ';
$_SESSION['invoice']['DueDate'] = ' ';
$_SESSION['invoice']['SalesRepRef_ListID'] = ' ';
$_SESSION['invoice']['SalesRepRef_FullName'] = ' ';
$_SESSION['invoice']['FOB'] = ' ';
$_SESSION['invoice']['ShipDate'] = ' ';
$_SESSION['invoice']['ShipMethodRef_ListID'] = ' ';
$_SESSION['invoice']['ShipMethodRef_FullName'] = ' ';
$_SESSION['invoice']['Subtotal'] = ' ';
$_SESSION['invoice']['ItemSalesTaxRef_ListID'] = ' ';
$_SESSION['invoice']['ItemSalesTaxRef_FullName'] = ' ';
$_SESSION['invoice']['SalesTaxPercentage'] = ' ';
$_SESSION['invoice']['SalesTaxTotal'] = ' ';
$_SESSION['invoice']['AppliedAmount'] = ' ';
$_SESSION['invoice']['BalanceRemaining'] = ' ';
$_SESSION['invoice']['CurrencyRef_ListID'] = ' ';
$_SESSION['invoice']['CurrencyRef_FullName'] = ' ';
$_SESSION['invoice']['ExchangeRate'] = ' ';
$_SESSION['invoice']['BalanceRemainingInHomeCurrency'] = ' ';
$_SESSION['invoice']['Memo'] = ' ';
$_SESSION['invoice']['IsPaid'] = ' ';
$_SESSION['invoice']['CustomerMsgRef_ListID'] = ' ';
$_SESSION['invoice']['CustomerMsgRef_FullName'] = ' ';
$_SESSION['invoice']['IsToBePrinted'] = ' ';
$_SESSION['invoice']['IsToBeEmailed'] = ' ';
$_SESSION['invoice']['IsTaxIncluded'] = ' ';
$_SESSION['invoice']['CustomerSalesTaxCodeRef_ListID'] = ' ';
$_SESSION['invoice']['CustomerSalesTaxCodeRef_FullName'] = ' ';
$_SESSION['invoice']['SuggestedDiscountAmount'] = ' ';
$_SESSION['invoice']['SuggestedDiscountDate'] = ' ';
$_SESSION['invoice']['Other'] = ' ';
$_SESSION['invoice']['CustomField1'] = ' ';
$_SESSION['invoice']['CustomField2'] = ' ';
$_SESSION['invoice']['CustomField3'] = ' ';
$_SESSION['invoice']['CustomField4'] = ' ';
$_SESSION['invoice']['CustomField5'] = ' ';
$_SESSION['invoice']['CustomField6'] = ' ';
$_SESSION['invoice']['CustomField7'] = ' ';
$_SESSION['invoice']['CustomField8'] = ' ';
$_SESSION['invoice']['CustomField9'] = ' ';
$_SESSION['invoice']['CustomField10'] = ' ';
$_SESSION['invoice']['CustomField11'] = ' ';
$_SESSION['invoice']['CustomField12'] = ' ';
$_SESSION['invoice']['CustomField13'] = ' ';
$_SESSION['invoice']['CustomField14'] = ' ';
$_SESSION['invoice']['CustomField15'] = ' ';
$_SESSION['invoice']['Status'] = ' ';

}

function gentraverse_invoice($node)
{
$node->getElementsByTagName('TxnID')->item(0) === NULL ? $_SESSION['invoice']['TxnID'] = ' ' : $_SESSION['invoice']['TxnID'] = $node->getElementsByTagName('TxnID')->item(0)->nodeValue;
$node->getElementsByTagName('TimeCreated')->item(0) === NULL ? $_SESSION['invoice']['TimeCreated'] = ' ' : $_SESSION['invoice']['TimeCreated'] = $node->getElementsByTagName('TimeCreated')->item(0)->nodeValue;
$node->getElementsByTagName('TimeModified')->item(0) === NULL ? $_SESSION['invoice']['TimeModified'] = ' ' : $_SESSION['invoice']['TimeModified'] = $node->getElementsByTagName('TimeModified')->item(0)->nodeValue;
$node->getElementsByTagName('EditSequence')->item(0) === NULL ? $_SESSION['invoice']['EditSequence'] = ' ' : $_SESSION['invoice']['EditSequence'] = $node->getElementsByTagName('EditSequence')->item(0)->nodeValue;
$node->getElementsByTagName('TxnNumber')->item(0) === NULL ? $_SESSION['invoice']['TxnNumber'] = ' ' : $_SESSION['invoice']['TxnNumber'] = $node->getElementsByTagName('TxnNumber')->item(0)->nodeValue;
$node->getElementsByTagName('ListID')->item(0) === NULL ? $_SESSION['invoice']['CustomerRef_ListID'] = ' ' : $_SESSION['invoice']['CustomerRef_ListID'] = $node->getElementsByTagName('ListID')->item(0)->nodeValue;
$node->getElementsByTagName('FullName')->item(0) === NULL ? $_SESSION['invoice']['CustomerRef_FullName'] = ' ' : $_SESSION['invoice']['CustomerRef_FullName'] = $node->getElementsByTagName('FullName')->item(0)->nodeValue;
$node->getElementsByTagName('ListID')->item(1) === NULL ? $_SESSION['invoice']['ClassRef_ListID'] = ' ' : $_SESSION['invoice']['ClassRef_ListID'] = $node->getElementsByTagName('ListID')->item(1)->nodeValue;
$node->getElementsByTagName('FullName')->item(1) === NULL ? $_SESSION['invoice']['ClassRef_FullName'] = ' ' : $_SESSION['invoice']['ClassRef_FullName'] = $node->getElementsByTagName('FullName')->item(1)->nodeValue;
$node->getElementsByTagName('ListID')->item(2) === NULL ? $_SESSION['invoice']['ARAccountRef_ListID'] = ' ' : $_SESSION['invoice']['ARAccountRef_ListID'] = $node->getElementsByTagName('ListID')->item(2)->nodeValue;
$node->getElementsByTagName('FullName')->item(2) === NULL ? $_SESSION['invoice']['ARAccountRef_FullName'] = ' ' : $_SESSION['invoice']['ARAccountRef_FullName'] = $node->getElementsByTagName('FullName')->item(2)->nodeValue;
$node->getElementsByTagName('ListID')->item(3) === NULL ? $_SESSION['invoice']['TemplateRef_ListID'] = ' ' : $_SESSION['invoice']['TemplateRef_ListID'] = $node->getElementsByTagName('ListID')->item(3)->nodeValue;
$node->getElementsByTagName('FullName')->item(3) === NULL ? $_SESSION['invoice']['TemplateRef_FullName'] = ' ' : $_SESSION['invoice']['TemplateRef_FullName'] = $node->getElementsByTagName('FullName')->item(3)->nodeValue;
$node->getElementsByTagName('TxnDate')->item(0) === NULL ? $_SESSION['invoice']['TxnDate'] = '2010-08-10' : $_SESSION['invoice']['TxnDate'] = $node->getElementsByTagName('TxnDate')->item(0)->nodeValue;
$node->getElementsByTagName('RefNumber')->item(0) === NULL ? $_SESSION['invoice']['RefNumber'] = ' ' : $_SESSION['invoice']['RefNumber'] = $node->getElementsByTagName('RefNumber')->item(0)->nodeValue;
$node->getElementsByTagName('Addr1')->item(0) === NULL ? $_SESSION['invoice']['BillAddress_Addr1'] = ' ' : $_SESSION['invoice']['BillAddress_Addr1'] = $node->getElementsByTagName('Addr1')->item(0)->nodeValue;
$node->getElementsByTagName('Addr2')->item(0) === NULL ? $_SESSION['invoice']['BillAddress_Addr2'] = ' ' : $_SESSION['invoice']['BillAddress_Addr2'] = $node->getElementsByTagName('Addr2')->item(0)->nodeValue;
$node->getElementsByTagName('Addr3')->item(0) === NULL ? $_SESSION['invoice']['BillAddress_Addr3'] = ' ' : $_SESSION['invoice']['BillAddress_Addr3'] = $node->getElementsByTagName('Addr3')->item(0)->nodeValue;
$node->getElementsByTagName('Addr4')->item(0) === NULL ? $_SESSION['invoice']['BillAddress_Addr4'] = ' ' : $_SESSION['invoice']['BillAddress_Addr4'] = $node->getElementsByTagName('Addr4')->item(0)->nodeValue;
$node->getElementsByTagName('Addr5')->item(0) === NULL ? $_SESSION['invoice']['BillAddress_Addr5'] = ' ' : $_SESSION['invoice']['BillAddress_Addr5'] = $node->getElementsByTagName('Addr5')->item(0)->nodeValue;
$node->getElementsByTagName('City')->item(0) === NULL ? $_SESSION['invoice']['BillAddress_City'] = ' ' : $_SESSION['invoice']['BillAddress_City'] = $node->getElementsByTagName('City')->item(0)->nodeValue;
$node->getElementsByTagName('State')->item(0) === NULL ? $_SESSION['invoice']['BillAddress_State'] = ' ' : $_SESSION['invoice']['BillAddress_State'] = $node->getElementsByTagName('State')->item(0)->nodeValue;
$node->getElementsByTagName('PostalCode')->item(0) === NULL ? $_SESSION['invoice']['BillAddress_PostalCode'] = ' ' : $_SESSION['invoice']['BillAddress_PostalCode'] = $node->getElementsByTagName('PostalCode')->item(0)->nodeValue;
$node->getElementsByTagName('Country')->item(0) === NULL ? $_SESSION['invoice']['BillAddress_Country'] = ' ' : $_SESSION['invoice']['BillAddress_Country'] = $node->getElementsByTagName('Country')->item(0)->nodeValue;
$node->getElementsByTagName('Note')->item(0) === NULL ? $_SESSION['invoice']['BillAddress_Note'] = ' ' : $_SESSION['invoice']['BillAddress_Note'] = $node->getElementsByTagName('Note')->item(0)->nodeValue;
$node->getElementsByTagName('Addr1')->item(1) === NULL ? $_SESSION['invoice']['ShipAddress_Addr1'] = ' ' : $_SESSION['invoice']['ShipAddress_Addr1'] = $node->getElementsByTagName('Addr1')->item(1)->nodeValue;
$node->getElementsByTagName('Addr2')->item(1) === NULL ? $_SESSION['invoice']['ShipAddress_Addr2'] = ' ' : $_SESSION['invoice']['ShipAddress_Addr2'] = $node->getElementsByTagName('Addr2')->item(1)->nodeValue;
$node->getElementsByTagName('Addr3')->item(1) === NULL ? $_SESSION['invoice']['ShipAddress_Addr3'] = ' ' : $_SESSION['invoice']['ShipAddress_Addr3'] = $node->getElementsByTagName('Addr3')->item(1)->nodeValue;
$node->getElementsByTagName('Addr4')->item(1) === NULL ? $_SESSION['invoice']['ShipAddress_Addr4'] = ' ' : $_SESSION['invoice']['ShipAddress_Addr4'] = $node->getElementsByTagName('Addr4')->item(1)->nodeValue;
$node->getElementsByTagName('Addr5')->item(1) === NULL ? $_SESSION['invoice']['ShipAddress_Addr5'] = ' ' : $_SESSION['invoice']['ShipAddress_Addr5'] = $node->getElementsByTagName('Addr5')->item(1)->nodeValue;
$node->getElementsByTagName('City')->item(1) === NULL ? $_SESSION['invoice']['ShipAddress_City'] = ' ' : $_SESSION['invoice']['ShipAddress_City'] = $node->getElementsByTagName('City')->item(1)->nodeValue;
$node->getElementsByTagName('State')->item(1) === NULL ? $_SESSION['invoice']['ShipAddress_State'] = ' ' : $_SESSION['invoice']['ShipAddress_State'] = $node->getElementsByTagName('State')->item(1)->nodeValue;
$node->getElementsByTagName('PostalCode')->item(1) === NULL ? $_SESSION['invoice']['ShipAddress_PostalCode'] = ' ' : $_SESSION['invoice']['ShipAddress_PostalCode'] = $node->getElementsByTagName('PostalCode')->item(1)->nodeValue;
$node->getElementsByTagName('Country')->item(1) === NULL ? $_SESSION['invoice']['ShipAddress_Country'] = ' ' : $_SESSION['invoice']['ShipAddress_Country'] = $node->getElementsByTagName('Country')->item(1)->nodeValue;
$node->getElementsByTagName('Note')->item(1) === NULL ? $_SESSION['invoice']['ShipAddress_Note'] = ' ' : $_SESSION['invoice']['ShipAddress_Note'] = $node->getElementsByTagName('Note')->item(1)->nodeValue;
$node->getElementsByTagName('IsPending')->item(0) === NULL ? $_SESSION['invoice']['IsPending'] = ' ' : $_SESSION['invoice']['IsPending'] = $node->getElementsByTagName('IsPending')->item(0)->nodeValue;
$node->getElementsByTagName('IsFinanceCharge')->item(0) === NULL ? $_SESSION['invoice']['IsFinanceCharge'] = ' ' : $_SESSION['invoice']['IsFinanceCharge'] = $node->getElementsByTagName('IsFinanceCharge')->item(0)->nodeValue;
$node->getElementsByTagName('PONumber')->item(0) === NULL ? $_SESSION['invoice']['PONumber'] = ' ' : $_SESSION['invoice']['PONumber'] = $node->getElementsByTagName('PONumber')->item(0)->nodeValue;
$node->getElementsByTagName('ListID')->item(4) === NULL ? $_SESSION['invoice']['TermsRef_ListID'] = ' ' : $_SESSION['invoice']['TermsRef_ListID'] = $node->getElementsByTagName('ListID')->item(4)->nodeValue;
$node->getElementsByTagName('FullName')->item(4) === NULL ? $_SESSION['invoice']['TermsRef_FullName'] = ' ' : $_SESSION['invoice']['TermsRef_FullName'] = $node->getElementsByTagName('FullName')->item(4)->nodeValue;
$node->getElementsByTagName('DueDate')->item(0) === NULL ? $_SESSION['invoice']['DueDate'] = '2010-08-10' : $_SESSION['invoice']['DueDate'] = $node->getElementsByTagName('DueDate')->item(0)->nodeValue;
$node->getElementsByTagName('ListID')->item(5) === NULL ? $_SESSION['invoice']['SalesRepRef_ListID'] = ' ' : $_SESSION['invoice']['SalesRepRef_ListID'] = $node->getElementsByTagName('ListID')->item(5)->nodeValue;
$node->getElementsByTagName('FullName')->item(5) === NULL ? $_SESSION['invoice']['SalesRepRef_FullName'] = ' ' : $_SESSION['invoice']['SalesRepRef_FullName'] = $node->getElementsByTagName('FullName')->item(5)->nodeValue;
$node->getElementsByTagName('FOB')->item(0) === NULL ? $_SESSION['invoice']['FOB'] = ' ' : $_SESSION['invoice']['FOB'] = $node->getElementsByTagName('FOB')->item(0)->nodeValue;
$node->getElementsByTagName('ShipDate')->item(0) === NULL ? $_SESSION['invoice']['ShipDate'] = '2010-08-10' : $_SESSION['invoice']['ShipDate'] = $node->getElementsByTagName('ShipDate')->item(0)->nodeValue;
$node->getElementsByTagName('ListID')->item(6) === NULL ? $_SESSION['invoice']['ShipMethodRef_ListID'] = ' ' : $_SESSION['invoice']['ShipMethodRef_ListID'] = $node->getElementsByTagName('ListID')->item(6)->nodeValue;
$node->getElementsByTagName('FullName')->item(6) === NULL ? $_SESSION['invoice']['ShipMethodRef_FullName'] = ' ' : $_SESSION['invoice']['ShipMethodRef_FullName'] = $node->getElementsByTagName('FullName')->item(6)->nodeValue;
$node->getElementsByTagName('Subtotal')->item(0) === NULL ? $_SESSION['invoice']['Subtotal'] = 0 : $_SESSION['invoice']['Subtotal'] = $node->getElementsByTagName('Subtotal')->item(0)->nodeValue;
$node->getElementsByTagName('ListID')->item(7) === NULL ? $_SESSION['invoice']['ItemSalesTaxRef_ListID'] = ' ' : $_SESSION['invoice']['ItemSalesTaxRef_ListID'] = $node->getElementsByTagName('ListID')->item(7)->nodeValue;
$node->getElementsByTagName('FullName')->item(7) === NULL ? $_SESSION['invoice']['ItemSalesTaxRef_FullName'] = ' ' : $_SESSION['invoice']['ItemSalesTaxRef_FullName'] = $node->getElementsByTagName('FullName')->item(7)->nodeValue;
$node->getElementsByTagName('SalesTaxPercentage')->item(0) === NULL ? $_SESSION['invoice']['SalesTaxPercentage'] = ' ' : $_SESSION['invoice']['SalesTaxPercentage'] = $node->getElementsByTagName('SalesTaxPercentage')->item(0)->nodeValue;
$node->getElementsByTagName('SalesTaxTotal')->item(0) === NULL ? $_SESSION['invoice']['SalesTaxTotal'] = 0 : $_SESSION['invoice']['SalesTaxTotal'] = $node->getElementsByTagName('SalesTaxTotal')->item(0)->nodeValue;
$node->getElementsByTagName('AppliedAmount')->item(0) === NULL ? $_SESSION['invoice']['AppliedAmount'] = 0 : $_SESSION['invoice']['AppliedAmount'] = $node->getElementsByTagName('AppliedAmount')->item(0)->nodeValue;
$node->getElementsByTagName('BalanceRemaining')->item(0) === NULL ? $_SESSION['invoice']['BalanceRemaining'] = 0 : $_SESSION['invoice']['BalanceRemaining'] = $node->getElementsByTagName('BalanceRemaining')->item(0)->nodeValue;
$node->getElementsByTagName('ListID')->item(8) === NULL ? $_SESSION['invoice']['CurrencyRef_ListID'] = ' ' : $_SESSION['invoice']['CurrencyRef_ListID'] = $node->getElementsByTagName('ListID')->item(8)->nodeValue;
$node->getElementsByTagName('FullName')->item(8) === NULL ? $_SESSION['invoice']['CurrencyRef_FullName'] = ' ' : $_SESSION['invoice']['CurrencyRef_FullName'] = $node->getElementsByTagName('FullName')->item(8)->nodeValue;
$node->getElementsByTagName('ExchangeRate')->item(0) === NULL ? $_SESSION['invoice']['ExchangeRate'] = 0 : $_SESSION['invoice']['ExchangeRate'] = $node->getElementsByTagName('ExchangeRate')->item(0)->nodeValue;
$node->getElementsByTagName('BalanceRemainingInHomeCurrency')->item(0) === NULL ? $_SESSION['invoice']['BalanceRemainingInHomeCurrency'] = 0 : $_SESSION['invoice']['BalanceRemainingInHomeCurrency'] = $node->getElementsByTagName('BalanceRemainingInHomeCurrency')->item(0)->nodeValue;
$node->getElementsByTagName('Memo')->item(0) === NULL ? $_SESSION['invoice']['Memo'] = ' ' : $_SESSION['invoice']['Memo'] = $node->getElementsByTagName('Memo')->item(0)->nodeValue;
$node->getElementsByTagName('IsPaid')->item(0) === NULL ? $_SESSION['invoice']['IsPaid'] = ' ' : $_SESSION['invoice']['IsPaid'] = $node->getElementsByTagName('IsPaid')->item(0)->nodeValue;
$node->getElementsByTagName('ListID')->item(9) === NULL ? $_SESSION['invoice']['CustomerMsgRef_ListID'] = ' ' : $_SESSION['invoice']['CustomerMsgRef_ListID'] = $node->getElementsByTagName('ListID')->item(9)->nodeValue;
$node->getElementsByTagName('FullName')->item(9) === NULL ? $_SESSION['invoice']['CustomerMsgRef_FullName'] = ' ' : $_SESSION['invoice']['CustomerMsgRef_FullName'] = $node->getElementsByTagName('FullName')->item(9)->nodeValue;
$node->getElementsByTagName('IsToBePrinted')->item(0) === NULL ? $_SESSION['invoice']['IsToBePrinted'] = ' ' : $_SESSION['invoice']['IsToBePrinted'] = $node->getElementsByTagName('IsToBePrinted')->item(0)->nodeValue;
$node->getElementsByTagName('IsToBeEmailed')->item(0) === NULL ? $_SESSION['invoice']['IsToBeEmailed'] = ' ' : $_SESSION['invoice']['IsToBeEmailed'] = $node->getElementsByTagName('IsToBeEmailed')->item(0)->nodeValue;
$node->getElementsByTagName('IsTaxIncluded')->item(0) === NULL ? $_SESSION['invoice']['IsTaxIncluded'] = ' ' : $_SESSION['invoice']['IsTaxIncluded'] = $node->getElementsByTagName('IsTaxIncluded')->item(0)->nodeValue;
$node->getElementsByTagName('ListID')->item(10) === NULL ? $_SESSION['invoice']['CustomerSalesTaxCodeRef_ListID'] = ' ' : $_SESSION['invoice']['CustomerSalesTaxCodeRef_ListID'] = $node->getElementsByTagName('ListID')->item(10)->nodeValue;
$node->getElementsByTagName('FullName')->item(10) === NULL ? $_SESSION['invoice']['CustomerSalesTaxCodeRef_FullName'] = ' ' : $_SESSION['invoice']['CustomerSalesTaxCodeRef_FullName'] = $node->getElementsByTagName('FullName')->item(10)->nodeValue;
$node->getElementsByTagName('SuggestedDiscountAmount')->item(0) === NULL ? $_SESSION['invoice']['SuggestedDiscountAmount'] = 0 : $_SESSION['invoice']['SuggestedDiscountAmount'] = $node->getElementsByTagName('SuggestedDiscountAmount')->item(0)->nodeValue;
$node->getElementsByTagName('SuggestedDiscountDate')->item(0) === NULL ? $_SESSION['invoice']['SuggestedDiscountDate'] = '2010-08-10' : $_SESSION['invoice']['SuggestedDiscountDate'] = $node->getElementsByTagName('SuggestedDiscountDate')->item(0)->nodeValue;
$node->getElementsByTagName('Other')->item(0) === NULL ? $_SESSION['invoice']['Other'] = ' ' : $_SESSION['invoice']['Other'] = $node->getElementsByTagName('Other')->item(0)->nodeValue;
$node->getElementsByTagName('CustomField1')->item(0) === NULL ? $_SESSION['invoice']['CustomField1'] = ' ' : $_SESSION['invoice']['CustomField1'] = $node->getElementsByTagName('CustomField1')->item(0)->nodeValue;
$node->getElementsByTagName('CustomField2')->item(0) === NULL ? $_SESSION['invoice']['CustomField2'] = ' ' : $_SESSION['invoice']['CustomField2'] = $node->getElementsByTagName('CustomField2')->item(0)->nodeValue;
$node->getElementsByTagName('CustomField3')->item(0) === NULL ? $_SESSION['invoice']['CustomField3'] = ' ' : $_SESSION['invoice']['CustomField3'] = $node->getElementsByTagName('CustomField3')->item(0)->nodeValue;
$node->getElementsByTagName('CustomField4')->item(0) === NULL ? $_SESSION['invoice']['CustomField4'] = ' ' : $_SESSION['invoice']['CustomField4'] = $node->getElementsByTagName('CustomField4')->item(0)->nodeValue;
$node->getElementsByTagName('CustomField5')->item(0) === NULL ? $_SESSION['invoice']['CustomField5'] = ' ' : $_SESSION['invoice']['CustomField5'] = $node->getElementsByTagName('CustomField5')->item(0)->nodeValue;
$node->getElementsByTagName('CustomField6')->item(0) === NULL ? $_SESSION['invoice']['CustomField6'] = ' ' : $_SESSION['invoice']['CustomField6'] = $node->getElementsByTagName('CustomField6')->item(0)->nodeValue;
$node->getElementsByTagName('CustomField7')->item(0) === NULL ? $_SESSION['invoice']['CustomField7'] = ' ' : $_SESSION['invoice']['CustomField7'] = $node->getElementsByTagName('CustomField7')->item(0)->nodeValue;
$node->getElementsByTagName('CustomField8')->item(0) === NULL ? $_SESSION['invoice']['CustomField8'] = ' ' : $_SESSION['invoice']['CustomField8'] = $node->getElementsByTagName('CustomField8')->item(0)->nodeValue;
$node->getElementsByTagName('CustomField9')->item(0) === NULL ? $_SESSION['invoice']['CustomField9'] = ' ' : $_SESSION['invoice']['CustomField9'] = $node->getElementsByTagName('CustomField9')->item(0)->nodeValue;
$node->getElementsByTagName('CustomField10')->item(0) === NULL ? $_SESSION['invoice']['CustomField10'] = ' ' : $_SESSION['invoice']['CustomField10'] = $node->getElementsByTagName('CustomField10')->item(0)->nodeValue;
$node->getElementsByTagName('CustomField11')->item(0) === NULL ? $_SESSION['invoice']['CustomField11'] = ' ' : $_SESSION['invoice']['CustomField11'] = $node->getElementsByTagName('CustomField11')->item(0)->nodeValue;
$node->getElementsByTagName('CustomField12')->item(0) === NULL ? $_SESSION['invoice']['CustomField12'] = ' ' : $_SESSION['invoice']['CustomField12'] = $node->getElementsByTagName('CustomField12')->item(0)->nodeValue;
$node->getElementsByTagName('CustomField13')->item(0) === NULL ? $_SESSION['invoice']['CustomField13'] = ' ' : $_SESSION['invoice']['CustomField13'] = $node->getElementsByTagName('CustomField13')->item(0)->nodeValue;
$node->getElementsByTagName('CustomField14')->item(0) === NULL ? $_SESSION['invoice']['CustomField14'] = ' ' : $_SESSION['invoice']['CustomField14'] = $node->getElementsByTagName('CustomField14')->item(0)->nodeValue;
$node->getElementsByTagName('CustomField15')->item(0) === NULL ? $_SESSION['invoice']['CustomField15'] = ' ' : $_SESSION['invoice']['CustomField15'] = $node->getElementsByTagName('CustomField15')->item(0)->nodeValue;
$node->getElementsByTagName('Status')->item(0) === NULL ? $_SESSION['invoice']['Status'] = ' ' : $_SESSION['invoice']['Status'] = $node->getElementsByTagName('Status')->item(0)->nodeValue;

}

function adiciona_invoice()
{
        $this->db->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
try {
    $sql = 'INSERT INTO invoice (  TxnID, TimeCreated, TimeModified, EditSequence, TxnNumber, CustomerRef_ListID, CustomerRef_FullName, ClassRef_ListID, ClassRef_FullName, ARAccountRef_ListID, ARAccountRef_FullName, TemplateRef_ListID, TemplateRef_FullName, TxnDate, RefNumber, BillAddress_Addr1, BillAddress_Addr2, BillAddress_Addr3, BillAddress_Addr4, BillAddress_Addr5, BillAddress_City, BillAddress_State, BillAddress_PostalCode, BillAddress_Country, BillAddress_Note, ShipAddress_Addr1, ShipAddress_Addr2, ShipAddress_Addr3, ShipAddress_Addr4, ShipAddress_Addr5, ShipAddress_City, ShipAddress_State, ShipAddress_PostalCode, ShipAddress_Country, ShipAddress_Note, IsPending, IsFinanceCharge, PONumber, TermsRef_ListID, TermsRef_FullName, DueDate, SalesRepRef_ListID, SalesRepRef_FullName, FOB, ShipDate, ShipMethodRef_ListID, ShipMethodRef_FullName, Subtotal, ItemSalesTaxRef_ListID, ItemSalesTaxRef_FullName, SalesTaxPercentage, SalesTaxTotal, AppliedAmount, BalanceRemaining, CurrencyRef_ListID, CurrencyRef_FullName, ExchangeRate, BalanceRemainingInHomeCurrency, Memo, IsPaid, CustomerMsgRef_ListID, CustomerMsgRef_FullName, IsToBePrinted, IsToBeEmailed, IsTaxIncluded, CustomerSalesTaxCodeRef_ListID, CustomerSalesTaxCodeRef_FullName, SuggestedDiscountAmount, SuggestedDiscountDate, Other, CustomField1, CustomField2, CustomField3, CustomField4, CustomField5, CustomField6, CustomField7, CustomField8, CustomField9, CustomField10, CustomField11, CustomField12, CustomField13, CustomField14, CustomField15, Status ) VALUES ( :TxnID, :TimeCreated, :TimeModified, :EditSequence, :TxnNumber, :CustomerRef_ListID, :CustomerRef_FullName, :ClassRef_ListID, :ClassRef_FullName, :ARAccountRef_ListID, :ARAccountRef_FullName, :TemplateRef_ListID, :TemplateRef_FullName, :TxnDate, :RefNumber, :BillAddress_Addr1, :BillAddress_Addr2, :BillAddress_Addr3, :BillAddress_Addr4, :BillAddress_Addr5, :BillAddress_City, :BillAddress_State, :BillAddress_PostalCode, :BillAddress_Country, :BillAddress_Note, :ShipAddress_Addr1, :ShipAddress_Addr2, :ShipAddress_Addr3, :ShipAddress_Addr4, :ShipAddress_Addr5, :ShipAddress_City, :ShipAddress_State, :ShipAddress_PostalCode, :ShipAddress_Country, :ShipAddress_Note, :IsPending, :IsFinanceCharge, :PONumber, :TermsRef_ListID, :TermsRef_FullName, :DueDate, :SalesRepRef_ListID, :SalesRepRef_FullName, :FOB, :ShipDate, :ShipMethodRef_ListID, :ShipMethodRef_FullName, :Subtotal, :ItemSalesTaxRef_ListID, :ItemSalesTaxRef_FullName, :SalesTaxPercentage, :SalesTaxTotal, :AppliedAmount, :BalanceRemaining, :CurrencyRef_ListID, :CurrencyRef_FullName, :ExchangeRate, :BalanceRemainingInHomeCurrency, :Memo, :IsPaid, :CustomerMsgRef_ListID, :CustomerMsgRef_FullName, :IsToBePrinted, :IsToBeEmailed, :IsTaxIncluded, :CustomerSalesTaxCodeRef_ListID, :CustomerSalesTaxCodeRef_FullName, :SuggestedDiscountAmount, :SuggestedDiscountDate, :Other, :CustomField1, :CustomField2, :CustomField3, :CustomField4, :CustomField5, :CustomField6, :CustomField7, :CustomField8, :CustomField9, :CustomField10, :CustomField11, :CustomField12, :CustomField13, :CustomField14, :CustomField15, :Status )';
    $stmt = $this->db->prepare($sql);
    $stmt->bindParam(':TxnID', $_SESSION['invoice']['TxnID'] );
$stmt->bindParam(':TimeCreated', $_SESSION['invoice']['TimeCreated'] );
$stmt->bindParam(':TimeModified', $_SESSION['invoice']['TimeModified'] );
$stmt->bindParam(':EditSequence', $_SESSION['invoice']['EditSequence'] );
$stmt->bindParam(':TxnNumber', $_SESSION['invoice']['TxnNumber'] );
$stmt->bindParam(':CustomerRef_ListID', $_SESSION['invoice']['CustomerRef_ListID'] );
$stmt->bindParam(':CustomerRef_FullName', $_SESSION['invoice']['CustomerRef_FullName'] );
$stmt->bindParam(':ClassRef_ListID', $_SESSION['invoice']['ClassRef_ListID'] );
$stmt->bindParam(':ClassRef_FullName', $_SESSION['invoice']['ClassRef_FullName'] );
$stmt->bindParam(':ARAccountRef_ListID', $_SESSION['invoice']['ARAccountRef_ListID'] );
$stmt->bindParam(':ARAccountRef_FullName', $_SESSION['invoice']['ARAccountRef_FullName'] );
$stmt->bindParam(':TemplateRef_ListID', $_SESSION['invoice']['TemplateRef_ListID'] );
$stmt->bindParam(':TemplateRef_FullName', $_SESSION['invoice']['TemplateRef_FullName'] );
$stmt->bindParam(':TxnDate', $_SESSION['invoice']['TxnDate'] );
$stmt->bindParam(':RefNumber', $_SESSION['invoice']['RefNumber'] );
$stmt->bindParam(':BillAddress_Addr1', $_SESSION['invoice']['BillAddress_Addr1'] );
$stmt->bindParam(':BillAddress_Addr2', $_SESSION['invoice']['BillAddress_Addr2'] );
$stmt->bindParam(':BillAddress_Addr3', $_SESSION['invoice']['BillAddress_Addr3'] );
$stmt->bindParam(':BillAddress_Addr4', $_SESSION['invoice']['BillAddress_Addr4'] );
$stmt->bindParam(':BillAddress_Addr5', $_SESSION['invoice']['BillAddress_Addr5'] );
$stmt->bindParam(':BillAddress_City', $_SESSION['invoice']['BillAddress_City'] );
$stmt->bindParam(':BillAddress_State', $_SESSION['invoice']['BillAddress_State'] );
$stmt->bindParam(':BillAddress_PostalCode', $_SESSION['invoice']['BillAddress_PostalCode'] );
$stmt->bindParam(':BillAddress_Country', $_SESSION['invoice']['BillAddress_Country'] );
$stmt->bindParam(':BillAddress_Note', $_SESSION['invoice']['BillAddress_Note'] );
$stmt->bindParam(':ShipAddress_Addr1', $_SESSION['invoice']['ShipAddress_Addr1'] );
$stmt->bindParam(':ShipAddress_Addr2', $_SESSION['invoice']['ShipAddress_Addr2'] );
$stmt->bindParam(':ShipAddress_Addr3', $_SESSION['invoice']['ShipAddress_Addr3'] );
$stmt->bindParam(':ShipAddress_Addr4', $_SESSION['invoice']['ShipAddress_Addr4'] );
$stmt->bindParam(':ShipAddress_Addr5', $_SESSION['invoice']['ShipAddress_Addr5'] );
$stmt->bindParam(':ShipAddress_City', $_SESSION['invoice']['ShipAddress_City'] );
$stmt->bindParam(':ShipAddress_State', $_SESSION['invoice']['ShipAddress_State'] );
$stmt->bindParam(':ShipAddress_PostalCode', $_SESSION['invoice']['ShipAddress_PostalCode'] );
$stmt->bindParam(':ShipAddress_Country', $_SESSION['invoice']['ShipAddress_Country'] );
$stmt->bindParam(':ShipAddress_Note', $_SESSION['invoice']['ShipAddress_Note'] );
$stmt->bindParam(':IsPending', $_SESSION['invoice']['IsPending'] );
$stmt->bindParam(':IsFinanceCharge', $_SESSION['invoice']['IsFinanceCharge'] );
$stmt->bindParam(':PONumber', $_SESSION['invoice']['PONumber'] );
$stmt->bindParam(':TermsRef_ListID', $_SESSION['invoice']['TermsRef_ListID'] );
$stmt->bindParam(':TermsRef_FullName', $_SESSION['invoice']['TermsRef_FullName'] );
$stmt->bindParam(':DueDate', $_SESSION['invoice']['DueDate'] );
$stmt->bindParam(':SalesRepRef_ListID', $_SESSION['invoice']['SalesRepRef_ListID'] );
$stmt->bindParam(':SalesRepRef_FullName', $_SESSION['invoice']['SalesRepRef_FullName'] );
$stmt->bindParam(':FOB', $_SESSION['invoice']['FOB'] );
$stmt->bindParam(':ShipDate', $_SESSION['invoice']['ShipDate'] );
$stmt->bindParam(':ShipMethodRef_ListID', $_SESSION['invoice']['ShipMethodRef_ListID'] );
$stmt->bindParam(':ShipMethodRef_FullName', $_SESSION['invoice']['ShipMethodRef_FullName'] );
$stmt->bindParam(':Subtotal', $_SESSION['invoice']['Subtotal'] );
$stmt->bindParam(':ItemSalesTaxRef_ListID', $_SESSION['invoice']['ItemSalesTaxRef_ListID'] );
$stmt->bindParam(':ItemSalesTaxRef_FullName', $_SESSION['invoice']['ItemSalesTaxRef_FullName'] );
$stmt->bindParam(':SalesTaxPercentage', $_SESSION['invoice']['SalesTaxPercentage'] );
$stmt->bindParam(':SalesTaxTotal', $_SESSION['invoice']['SalesTaxTotal'] );
$stmt->bindParam(':AppliedAmount', $_SESSION['invoice']['AppliedAmount'] );
$stmt->bindParam(':BalanceRemaining', $_SESSION['invoice']['BalanceRemaining'] );
$stmt->bindParam(':CurrencyRef_ListID', $_SESSION['invoice']['CurrencyRef_ListID'] );
$stmt->bindParam(':CurrencyRef_FullName', $_SESSION['invoice']['CurrencyRef_FullName'] );
$stmt->bindParam(':ExchangeRate', $_SESSION['invoice']['ExchangeRate'] );
$stmt->bindParam(':BalanceRemainingInHomeCurrency', $_SESSION['invoice']['BalanceRemainingInHomeCurrency'] );
$stmt->bindParam(':Memo', $_SESSION['invoice']['Memo'] );
$stmt->bindParam(':IsPaid', $_SESSION['invoice']['IsPaid'] );
$stmt->bindParam(':CustomerMsgRef_ListID', $_SESSION['invoice']['CustomerMsgRef_ListID'] );
$stmt->bindParam(':CustomerMsgRef_FullName', $_SESSION['invoice']['CustomerMsgRef_FullName'] );
$stmt->bindParam(':IsToBePrinted', $_SESSION['invoice']['IsToBePrinted'] );
$stmt->bindParam(':IsToBeEmailed', $_SESSION['invoice']['IsToBeEmailed'] );
$stmt->bindParam(':IsTaxIncluded', $_SESSION['invoice']['IsTaxIncluded'] );
$stmt->bindParam(':CustomerSalesTaxCodeRef_ListID', $_SESSION['invoice']['CustomerSalesTaxCodeRef_ListID'] );
$stmt->bindParam(':CustomerSalesTaxCodeRef_FullName', $_SESSION['invoice']['CustomerSalesTaxCodeRef_FullName'] );
$stmt->bindParam(':SuggestedDiscountAmount', $_SESSION['invoice']['SuggestedDiscountAmount'] );
$stmt->bindParam(':SuggestedDiscountDate', $_SESSION['invoice']['SuggestedDiscountDate'] );
$stmt->bindParam(':Other', $_SESSION['invoice']['Other'] );
$stmt->bindParam(':CustomField1', $_SESSION['invoice']['CustomField1'] );
$stmt->bindParam(':CustomField2', $_SESSION['invoice']['CustomField2'] );
$stmt->bindParam(':CustomField3', $_SESSION['invoice']['CustomField3'] );
$stmt->bindParam(':CustomField4', $_SESSION['invoice']['CustomField4'] );
$stmt->bindParam(':CustomField5', $_SESSION['invoice']['CustomField5'] );
$stmt->bindParam(':CustomField6', $_SESSION['invoice']['CustomField6'] );
$stmt->bindParam(':CustomField7', $_SESSION['invoice']['CustomField7'] );
$stmt->bindParam(':CustomField8', $_SESSION['invoice']['CustomField8'] );
$stmt->bindParam(':CustomField9', $_SESSION['invoice']['CustomField9'] );
$stmt->bindParam(':CustomField10', $_SESSION['invoice']['CustomField10'] );
$stmt->bindParam(':CustomField11', $_SESSION['invoice']['CustomField11'] );
$stmt->bindParam(':CustomField12', $_SESSION['invoice']['CustomField12'] );
$stmt->bindParam(':CustomField13', $_SESSION['invoice']['CustomField13'] );
$stmt->bindParam(':CustomField14', $_SESSION['invoice']['CustomField14'] );
$stmt->bindParam(':CustomField15', $_SESSION['invoice']['CustomField15'] );
$stmt->bindParam(':Status', $_SESSION['invoice']['Status'] );
$stmt->execute();
} catch(PDOException $e) {
    echo $e->getMessage();
}    
}

function quitaslashes_invoice()
{
$_SESSION['invoice']['TxnID'] = htmlspecialchars(strip_tags($_SESSION['invoice']['TxnID']));
$_SESSION['invoice']['TimeCreated'] = date("Y-m-d H:m:s", strtotime($_SESSION['invoice']['TimeCreated']));
$_SESSION['invoice']['TimeModified'] = date("Y-m-d H:m:s", strtotime($_SESSION['invoice']['TimeModified']));
$_SESSION['invoice']['EditSequence'] = htmlspecialchars(strip_tags($_SESSION['invoice']['EditSequence']));
$_SESSION['invoice']['TxnNumber'] = htmlspecialchars(strip_tags($_SESSION['invoice']['TxnNumber']));
$_SESSION['invoice']['CustomerRef_ListID'] = htmlspecialchars(strip_tags($_SESSION['invoice']['CustomerRef_ListID']));
$_SESSION['invoice']['CustomerRef_FullName'] = htmlspecialchars(strip_tags($_SESSION['invoice']['CustomerRef_FullName']));
$_SESSION['invoice']['ClassRef_ListID'] = htmlspecialchars(strip_tags($_SESSION['invoice']['ClassRef_ListID']));
$_SESSION['invoice']['ClassRef_FullName'] = htmlspecialchars(strip_tags($_SESSION['invoice']['ClassRef_FullName']));
$_SESSION['invoice']['ARAccountRef_ListID'] = htmlspecialchars(strip_tags($_SESSION['invoice']['ARAccountRef_ListID']));
$_SESSION['invoice']['ARAccountRef_FullName'] = htmlspecialchars(strip_tags($_SESSION['invoice']['ARAccountRef_FullName']));
$_SESSION['invoice']['TemplateRef_ListID'] = htmlspecialchars(strip_tags($_SESSION['invoice']['TemplateRef_ListID']));
$_SESSION['invoice']['TemplateRef_FullName'] = htmlspecialchars(strip_tags($_SESSION['invoice']['TemplateRef_FullName']));
$_SESSION['invoice']['TxnDate'] = htmlspecialchars(strip_tags($_SESSION['invoice']['TxnDate']));
$_SESSION['invoice']['RefNumber'] = htmlspecialchars(strip_tags($_SESSION['invoice']['RefNumber']));
$_SESSION['invoice']['BillAddress_Addr1'] = htmlspecialchars(strip_tags($_SESSION['invoice']['BillAddress_Addr1']));
$_SESSION['invoice']['BillAddress_Addr2'] = htmlspecialchars(strip_tags($_SESSION['invoice']['BillAddress_Addr2']));
$_SESSION['invoice']['BillAddress_Addr3'] = htmlspecialchars(strip_tags($_SESSION['invoice']['BillAddress_Addr3']));
$_SESSION['invoice']['BillAddress_Addr4'] = htmlspecialchars(strip_tags($_SESSION['invoice']['BillAddress_Addr4']));
$_SESSION['invoice']['BillAddress_Addr5'] = htmlspecialchars(strip_tags($_SESSION['invoice']['BillAddress_Addr5']));
$_SESSION['invoice']['BillAddress_City'] = htmlspecialchars(strip_tags($_SESSION['invoice']['BillAddress_City']));
$_SESSION['invoice']['BillAddress_State'] = htmlspecialchars(strip_tags($_SESSION['invoice']['BillAddress_State']));
$_SESSION['invoice']['BillAddress_PostalCode'] = htmlspecialchars(strip_tags($_SESSION['invoice']['BillAddress_PostalCode']));
$_SESSION['invoice']['BillAddress_Country'] = htmlspecialchars(strip_tags($_SESSION['invoice']['BillAddress_Country']));
$_SESSION['invoice']['BillAddress_Note'] = htmlspecialchars(strip_tags($_SESSION['invoice']['BillAddress_Note']));
$_SESSION['invoice']['ShipAddress_Addr1'] = htmlspecialchars(strip_tags($_SESSION['invoice']['ShipAddress_Addr1']));
$_SESSION['invoice']['ShipAddress_Addr2'] = htmlspecialchars(strip_tags($_SESSION['invoice']['ShipAddress_Addr2']));
$_SESSION['invoice']['ShipAddress_Addr3'] = htmlspecialchars(strip_tags($_SESSION['invoice']['ShipAddress_Addr3']));
$_SESSION['invoice']['ShipAddress_Addr4'] = htmlspecialchars(strip_tags($_SESSION['invoice']['ShipAddress_Addr4']));
$_SESSION['invoice']['ShipAddress_Addr5'] = htmlspecialchars(strip_tags($_SESSION['invoice']['ShipAddress_Addr5']));
$_SESSION['invoice']['ShipAddress_City'] = htmlspecialchars(strip_tags($_SESSION['invoice']['ShipAddress_City']));
$_SESSION['invoice']['ShipAddress_State'] = htmlspecialchars(strip_tags($_SESSION['invoice']['ShipAddress_State']));
$_SESSION['invoice']['ShipAddress_PostalCode'] = htmlspecialchars(strip_tags($_SESSION['invoice']['ShipAddress_PostalCode']));
$_SESSION['invoice']['ShipAddress_Country'] = htmlspecialchars(strip_tags($_SESSION['invoice']['ShipAddress_Country']));
$_SESSION['invoice']['ShipAddress_Note'] = htmlspecialchars(strip_tags($_SESSION['invoice']['ShipAddress_Note']));
$_SESSION['invoice']['IsPending'] = htmlspecialchars(strip_tags($_SESSION['invoice']['IsPending']));
$_SESSION['invoice']['IsFinanceCharge'] = htmlspecialchars(strip_tags($_SESSION['invoice']['IsFinanceCharge']));
$_SESSION['invoice']['PONumber'] = htmlspecialchars(strip_tags($_SESSION['invoice']['PONumber']));
$_SESSION['invoice']['TermsRef_ListID'] = htmlspecialchars(strip_tags($_SESSION['invoice']['TermsRef_ListID']));
$_SESSION['invoice']['TermsRef_FullName'] = htmlspecialchars(strip_tags($_SESSION['invoice']['TermsRef_FullName']));
$_SESSION['invoice']['DueDate'] = htmlspecialchars(strip_tags($_SESSION['invoice']['DueDate']));
$_SESSION['invoice']['SalesRepRef_ListID'] = htmlspecialchars(strip_tags($_SESSION['invoice']['SalesRepRef_ListID']));
$_SESSION['invoice']['SalesRepRef_FullName'] = htmlspecialchars(strip_tags($_SESSION['invoice']['SalesRepRef_FullName']));
$_SESSION['invoice']['FOB'] = htmlspecialchars(strip_tags($_SESSION['invoice']['FOB']));
$_SESSION['invoice']['ShipDate'] = htmlspecialchars(strip_tags($_SESSION['invoice']['ShipDate']));
$_SESSION['invoice']['ShipMethodRef_ListID'] = htmlspecialchars(strip_tags($_SESSION['invoice']['ShipMethodRef_ListID']));
$_SESSION['invoice']['ShipMethodRef_FullName'] = htmlspecialchars(strip_tags($_SESSION['invoice']['ShipMethodRef_FullName']));
$_SESSION['invoice']['Subtotal'] = htmlspecialchars(strip_tags($_SESSION['invoice']['Subtotal']));
$_SESSION['invoice']['ItemSalesTaxRef_ListID'] = htmlspecialchars(strip_tags($_SESSION['invoice']['ItemSalesTaxRef_ListID']));
$_SESSION['invoice']['ItemSalesTaxRef_FullName'] = htmlspecialchars(strip_tags($_SESSION['invoice']['ItemSalesTaxRef_FullName']));
$_SESSION['invoice']['SalesTaxPercentage'] = htmlspecialchars(strip_tags($_SESSION['invoice']['SalesTaxPercentage']));
$_SESSION['invoice']['SalesTaxTotal'] = htmlspecialchars(strip_tags($_SESSION['invoice']['SalesTaxTotal']));
$_SESSION['invoice']['AppliedAmount'] = htmlspecialchars(strip_tags($_SESSION['invoice']['AppliedAmount']));
$_SESSION['invoice']['BalanceRemaining'] = htmlspecialchars(strip_tags($_SESSION['invoice']['BalanceRemaining']));
$_SESSION['invoice']['CurrencyRef_ListID'] = htmlspecialchars(strip_tags($_SESSION['invoice']['CurrencyRef_ListID']));
$_SESSION['invoice']['CurrencyRef_FullName'] = htmlspecialchars(strip_tags($_SESSION['invoice']['CurrencyRef_FullName']));
$_SESSION['invoice']['ExchangeRate'] = htmlspecialchars(strip_tags($_SESSION['invoice']['ExchangeRate']));
$_SESSION['invoice']['BalanceRemainingInHomeCurrency'] = htmlspecialchars(strip_tags($_SESSION['invoice']['BalanceRemainingInHomeCurrency']));
$_SESSION['invoice']['Memo'] = htmlspecialchars(strip_tags($_SESSION['invoice']['Memo']));
$_SESSION['invoice']['IsPaid'] = htmlspecialchars(strip_tags($_SESSION['invoice']['IsPaid']));
$_SESSION['invoice']['CustomerMsgRef_ListID'] = htmlspecialchars(strip_tags($_SESSION['invoice']['CustomerMsgRef_ListID']));
$_SESSION['invoice']['CustomerMsgRef_FullName'] = htmlspecialchars(strip_tags($_SESSION['invoice']['CustomerMsgRef_FullName']));
$_SESSION['invoice']['IsToBePrinted'] = htmlspecialchars(strip_tags($_SESSION['invoice']['IsToBePrinted']));
$_SESSION['invoice']['IsToBeEmailed'] = htmlspecialchars(strip_tags($_SESSION['invoice']['IsToBeEmailed']));
$_SESSION['invoice']['IsTaxIncluded'] = htmlspecialchars(strip_tags($_SESSION['invoice']['IsTaxIncluded']));
$_SESSION['invoice']['CustomerSalesTaxCodeRef_ListID'] = htmlspecialchars(strip_tags($_SESSION['invoice']['CustomerSalesTaxCodeRef_ListID']));
$_SESSION['invoice']['CustomerSalesTaxCodeRef_FullName'] = htmlspecialchars(strip_tags($_SESSION['invoice']['CustomerSalesTaxCodeRef_FullName']));
$_SESSION['invoice']['SuggestedDiscountAmount'] = htmlspecialchars(strip_tags($_SESSION['invoice']['SuggestedDiscountAmount']));
$_SESSION['invoice']['SuggestedDiscountDate'] = htmlspecialchars(strip_tags($_SESSION['invoice']['SuggestedDiscountDate']));
$_SESSION['invoice']['Other'] = htmlspecialchars(strip_tags($_SESSION['invoice']['Other']));
$_SESSION['invoice']['CustomField1'] = htmlspecialchars(strip_tags($_SESSION['invoice']['CustomField1']));
$_SESSION['invoice']['CustomField2'] = htmlspecialchars(strip_tags($_SESSION['invoice']['CustomField2']));
$_SESSION['invoice']['CustomField3'] = htmlspecialchars(strip_tags($_SESSION['invoice']['CustomField3']));
$_SESSION['invoice']['CustomField4'] = htmlspecialchars(strip_tags($_SESSION['invoice']['CustomField4']));
$_SESSION['invoice']['CustomField5'] = htmlspecialchars(strip_tags($_SESSION['invoice']['CustomField5']));
$_SESSION['invoice']['CustomField6'] = htmlspecialchars(strip_tags($_SESSION['invoice']['CustomField6']));
$_SESSION['invoice']['CustomField7'] = htmlspecialchars(strip_tags($_SESSION['invoice']['CustomField7']));
$_SESSION['invoice']['CustomField8'] = htmlspecialchars(strip_tags($_SESSION['invoice']['CustomField8']));
$_SESSION['invoice']['CustomField9'] = htmlspecialchars(strip_tags($_SESSION['invoice']['CustomField9']));
$_SESSION['invoice']['CustomField10'] = htmlspecialchars(strip_tags($_SESSION['invoice']['CustomField10']));
$_SESSION['invoice']['CustomField11'] = htmlspecialchars(strip_tags($_SESSION['invoice']['CustomField11']));
$_SESSION['invoice']['CustomField12'] = htmlspecialchars(strip_tags($_SESSION['invoice']['CustomField12']));
$_SESSION['invoice']['CustomField13'] = htmlspecialchars(strip_tags($_SESSION['invoice']['CustomField13']));
$_SESSION['invoice']['CustomField14'] = htmlspecialchars(strip_tags($_SESSION['invoice']['CustomField14']));
$_SESSION['invoice']['CustomField15'] = htmlspecialchars(strip_tags($_SESSION['invoice']['CustomField15']));
$_SESSION['invoice']['Status'] = htmlspecialchars(strip_tags($_SESSION['invoice']['Status']));

 
    }
    


// **********************
// GETTER METHODS
// **********************


function getTxnID()
{
return $this->TxnID;
}

function getTimeCreated()
{
return $this->TimeCreated;
}

function getTimeModified()
{
return $this->TimeModified;
}

function getEditSequence()
{
return $this->EditSequence;
}

function getTxnNumber()
{
return $this->TxnNumber;
}

function getCustomerRef_ListID()
{
return $this->CustomerRef_ListID;
}

function getCustomerRef_FullName()
{
return $this->CustomerRef_FullName;
}

function getClassRef_ListID()
{
return $this->ClassRef_ListID;
}

function getClassRef_FullName()
{
return $this->ClassRef_FullName;
}

function getARAccountRef_ListID()
{
return $this->ARAccountRef_ListID;
}

function getARAccountRef_FullName()
{
return $this->ARAccountRef_FullName;
}

function getTemplateRef_ListID()
{
return $this->TemplateRef_ListID;
}

function getTemplateRef_FullName()
{
return $this->TemplateRef_FullName;
}

function getTxnDate()
{
return $this->TxnDate;
}

function getRefNumber()
{
return $this->RefNumber;
}

function getBillAddress_Addr1()
{
return $this->BillAddress_Addr1;
}

function getBillAddress_Addr2()
{
return $this->BillAddress_Addr2;
}

function getBillAddress_Addr3()
{
return $this->BillAddress_Addr3;
}

function getBillAddress_Addr4()
{
return $this->BillAddress_Addr4;
}

function getBillAddress_Addr5()
{
return $this->BillAddress_Addr5;
}

function getBillAddress_City()
{
return $this->BillAddress_City;
}

function getBillAddress_State()
{
return $this->BillAddress_State;
}

function getBillAddress_PostalCode()
{
return $this->BillAddress_PostalCode;
}

function getBillAddress_Country()
{
return $this->BillAddress_Country;
}

function getBillAddress_Note()
{
return $this->BillAddress_Note;
}

function getShipAddress_Addr1()
{
return $this->ShipAddress_Addr1;
}

function getShipAddress_Addr2()
{
return $this->ShipAddress_Addr2;
}

function getShipAddress_Addr3()
{
return $this->ShipAddress_Addr3;
}

function getShipAddress_Addr4()
{
return $this->ShipAddress_Addr4;
}

function getShipAddress_Addr5()
{
return $this->ShipAddress_Addr5;
}

function getShipAddress_City()
{
return $this->ShipAddress_City;
}

function getShipAddress_State()
{
return $this->ShipAddress_State;
}

function getShipAddress_PostalCode()
{
return $this->ShipAddress_PostalCode;
}

function getShipAddress_Country()
{
return $this->ShipAddress_Country;
}

function getShipAddress_Note()
{
return $this->ShipAddress_Note;
}

function getIsPending()
{
return $this->IsPending;
}

function getIsFinanceCharge()
{
return $this->IsFinanceCharge;
}

function getPONumber()
{
return $this->PONumber;
}

function getTermsRef_ListID()
{
return $this->TermsRef_ListID;
}

function getTermsRef_FullName()
{
return $this->TermsRef_FullName;
}

function getDueDate()
{
return $this->DueDate;
}

function getSalesRepRef_ListID()
{
return $this->SalesRepRef_ListID;
}

function getSalesRepRef_FullName()
{
return $this->SalesRepRef_FullName;
}

function getFOB()
{
return $this->FOB;
}

function getShipDate()
{
return $this->ShipDate;
}

function getShipMethodRef_ListID()
{
return $this->ShipMethodRef_ListID;
}

function getShipMethodRef_FullName()
{
return $this->ShipMethodRef_FullName;
}

function getSubtotal()
{
return $this->Subtotal;
}

function getItemSalesTaxRef_ListID()
{
return $this->ItemSalesTaxRef_ListID;
}

function getItemSalesTaxRef_FullName()
{
return $this->ItemSalesTaxRef_FullName;
}

function getSalesTaxPercentage()
{
return $this->SalesTaxPercentage;
}

function getSalesTaxTotal()
{
return $this->SalesTaxTotal;
}

function getAppliedAmount()
{
return $this->AppliedAmount;
}

function getBalanceRemaining()
{
return $this->BalanceRemaining;
}

function getCurrencyRef_ListID()
{
return $this->CurrencyRef_ListID;
}

function getCurrencyRef_FullName()
{
return $this->CurrencyRef_FullName;
}

function getExchangeRate()
{
return $this->ExchangeRate;
}

function getBalanceRemainingInHomeCurrency()
{
return $this->BalanceRemainingInHomeCurrency;
}

function getMemo()
{
return $this->Memo;
}

function getIsPaid()
{
return $this->IsPaid;
}

function getCustomerMsgRef_ListID()
{
return $this->CustomerMsgRef_ListID;
}

function getCustomerMsgRef_FullName()
{
return $this->CustomerMsgRef_FullName;
}

function getIsToBePrinted()
{
return $this->IsToBePrinted;
}

function getIsToBeEmailed()
{
return $this->IsToBeEmailed;
}

function getIsTaxIncluded()
{
return $this->IsTaxIncluded;
}

function getCustomerSalesTaxCodeRef_ListID()
{
return $this->CustomerSalesTaxCodeRef_ListID;
}

function getCustomerSalesTaxCodeRef_FullName()
{
return $this->CustomerSalesTaxCodeRef_FullName;
}

function getSuggestedDiscountAmount()
{
return $this->SuggestedDiscountAmount;
}

function getSuggestedDiscountDate()
{
return $this->SuggestedDiscountDate;
}

function getOther()
{
return $this->Other;
}

function getCustomField1()
{
return $this->CustomField1;
}

function getCustomField2()
{
return $this->CustomField2;
}

function getCustomField3()
{
return $this->CustomField3;
}

function getCustomField4()
{
return $this->CustomField4;
}

function getCustomField5()
{
return $this->CustomField5;
}

function getCustomField6()
{
return $this->CustomField6;
}

function getCustomField7()
{
return $this->CustomField7;
}

function getCustomField8()
{
return $this->CustomField8;
}

function getCustomField9()
{
return $this->CustomField9;
}

function getCustomField10()
{
return $this->CustomField10;
}

function getCustomField11()
{
return $this->CustomField11;
}

function getCustomField12()
{
return $this->CustomField12;
}

function getCustomField13()
{
return $this->CustomField13;
}

function getCustomField14()
{
return $this->CustomField14;
}

function getCustomField15()
{
return $this->CustomField15;
}

function getStatus()
{
return $this->Status;
}

// **********************
// SETTER METHODS
// **********************


function setTxnID($val)
{
$this->TxnID =  $val;
}

function setTimeCreated($val)
{
$this->TimeCreated =  $val;
}

function setTimeModified($val)
{
$this->TimeModified =  $val;
}

function setEditSequence($val)
{
$this->EditSequence =  $val;
}

function setTxnNumber($val)
{
$this->TxnNumber =  $val;
}

function setCustomerRef_ListID($val)
{
$this->CustomerRef_ListID =  $val;
}

function setCustomerRef_FullName($val)
{
$this->CustomerRef_FullName =  $val;
}

function setClassRef_ListID($val)
{
$this->ClassRef_ListID =  $val;
}

function setClassRef_FullName($val)
{
$this->ClassRef_FullName =  $val;
}

function setARAccountRef_ListID($val)
{
$this->ARAccountRef_ListID =  $val;
}

function setARAccountRef_FullName($val)
{
$this->ARAccountRef_FullName =  $val;
}

function setTemplateRef_ListID($val)
{
$this->TemplateRef_ListID =  $val;
}

function setTemplateRef_FullName($val)
{
$this->TemplateRef_FullName =  $val;
}

function setTxnDate($val)
{
$this->TxnDate =  $val;
}

function setRefNumber($val)
{
$this->RefNumber =  $val;
}

function setBillAddress_Addr1($val)
{
$this->BillAddress_Addr1 =  $val;
}

function setBillAddress_Addr2($val)
{
$this->BillAddress_Addr2 =  $val;
}

function setBillAddress_Addr3($val)
{
$this->BillAddress_Addr3 =  $val;
}

function setBillAddress_Addr4($val)
{
$this->BillAddress_Addr4 =  $val;
}

function setBillAddress_Addr5($val)
{
$this->BillAddress_Addr5 =  $val;
}

function setBillAddress_City($val)
{
$this->BillAddress_City =  $val;
}

function setBillAddress_State($val)
{
$this->BillAddress_State =  $val;
}

function setBillAddress_PostalCode($val)
{
$this->BillAddress_PostalCode =  $val;
}

function setBillAddress_Country($val)
{
$this->BillAddress_Country =  $val;
}

function setBillAddress_Note($val)
{
$this->BillAddress_Note =  $val;
}

function setShipAddress_Addr1($val)
{
$this->ShipAddress_Addr1 =  $val;
}

function setShipAddress_Addr2($val)
{
$this->ShipAddress_Addr2 =  $val;
}

function setShipAddress_Addr3($val)
{
$this->ShipAddress_Addr3 =  $val;
}

function setShipAddress_Addr4($val)
{
$this->ShipAddress_Addr4 =  $val;
}

function setShipAddress_Addr5($val)
{
$this->ShipAddress_Addr5 =  $val;
}

function setShipAddress_City($val)
{
$this->ShipAddress_City =  $val;
}

function setShipAddress_State($val)
{
$this->ShipAddress_State =  $val;
}

function setShipAddress_PostalCode($val)
{
$this->ShipAddress_PostalCode =  $val;
}

function setShipAddress_Country($val)
{
$this->ShipAddress_Country =  $val;
}

function setShipAddress_Note($val)
{
$this->ShipAddress_Note =  $val;
}

function setIsPending($val)
{
$this->IsPending =  $val;
}

function setIsFinanceCharge($val)
{
$this->IsFinanceCharge =  $val;
}

function setPONumber($val)
{
$this->PONumber =  $val;
}

function setTermsRef_ListID($val)
{
$this->TermsRef_ListID =  $val;
}

function setTermsRef_FullName($val)
{
$this->TermsRef_FullName =  $val;
}

function setDueDate($val)
{
$this->DueDate =  $val;
}

function setSalesRepRef_ListID($val)
{
$this->SalesRepRef_ListID =  $val;
}

function setSalesRepRef_FullName($val)
{
$this->SalesRepRef_FullName =  $val;
}

function setFOB($val)
{
$this->FOB =  $val;
}

function setShipDate($val)
{
$this->ShipDate =  $val;
}

function setShipMethodRef_ListID($val)
{
$this->ShipMethodRef_ListID =  $val;
}

function setShipMethodRef_FullName($val)
{
$this->ShipMethodRef_FullName =  $val;
}

function setSubtotal($val)
{
$this->Subtotal =  $val;
}

function setItemSalesTaxRef_ListID($val)
{
$this->ItemSalesTaxRef_ListID =  $val;
}

function setItemSalesTaxRef_FullName($val)
{
$this->ItemSalesTaxRef_FullName =  $val;
}

function setSalesTaxPercentage($val)
{
$this->SalesTaxPercentage =  $val;
}

function setSalesTaxTotal($val)
{
$this->SalesTaxTotal =  $val;
}

function setAppliedAmount($val)
{
$this->AppliedAmount =  $val;
}

function setBalanceRemaining($val)
{
$this->BalanceRemaining =  $val;
}

function setCurrencyRef_ListID($val)
{
$this->CurrencyRef_ListID =  $val;
}

function setCurrencyRef_FullName($val)
{
$this->CurrencyRef_FullName =  $val;
}

function setExchangeRate($val)
{
$this->ExchangeRate =  $val;
}

function setBalanceRemainingInHomeCurrency($val)
{
$this->BalanceRemainingInHomeCurrency =  $val;
}

function setMemo($val)
{
$this->Memo =  $val;
}

function setIsPaid($val)
{
$this->IsPaid =  $val;
}

function setCustomerMsgRef_ListID($val)
{
$this->CustomerMsgRef_ListID =  $val;
}

function setCustomerMsgRef_FullName($val)
{
$this->CustomerMsgRef_FullName =  $val;
}

function setIsToBePrinted($val)
{
$this->IsToBePrinted =  $val;
}

function setIsToBeEmailed($val)
{
$this->IsToBeEmailed =  $val;
}

function setIsTaxIncluded($val)
{
$this->IsTaxIncluded =  $val;
}

function setCustomerSalesTaxCodeRef_ListID($val)
{
$this->CustomerSalesTaxCodeRef_ListID =  $val;
}

function setCustomerSalesTaxCodeRef_FullName($val)
{
$this->CustomerSalesTaxCodeRef_FullName =  $val;
}

function setSuggestedDiscountAmount($val)
{
$this->SuggestedDiscountAmount =  $val;
}

function setSuggestedDiscountDate($val)
{
$this->SuggestedDiscountDate =  $val;
}

function setOther($val)
{
$this->Other =  $val;
}

function setCustomField1($val)
{
$this->CustomField1 =  $val;
}

function setCustomField2($val)
{
$this->CustomField2 =  $val;
}

function setCustomField3($val)
{
$this->CustomField3 =  $val;
}

function setCustomField4($val)
{
$this->CustomField4 =  $val;
}

function setCustomField5($val)
{
$this->CustomField5 =  $val;
}

function setCustomField6($val)
{
$this->CustomField6 =  $val;
}

function setCustomField7($val)
{
$this->CustomField7 =  $val;
}

function setCustomField8($val)
{
$this->CustomField8 =  $val;
}

function setCustomField9($val)
{
$this->CustomField9 =  $val;
}

function setCustomField10($val)
{
$this->CustomField10 =  $val;
}

function setCustomField11($val)
{
$this->CustomField11 =  $val;
}

function setCustomField12($val)
{
$this->CustomField12 =  $val;
}

function setCustomField13($val)
{
$this->CustomField13 =  $val;
}

function setCustomField14($val)
{
$this->CustomField14 =  $val;
}

function setCustomField15($val)
{
$this->CustomField15 =  $val;
}

function setStatus($val)
{
$this->Status =  $val;
}

// **********************
// SELECT METHOD / LOAD
// **********************

function select($id)
{

$db = $this->db->aurora_connect();
$sql =  "SELECT * FROM invoice WHERE TxnID = ?";
$stmt = $db->prepare($sql) or die(mysqli_error($db));
    $stmt->bind_param("s", $id);
        $stmt->bind_result($db_TxnID, $db_TimeCreated, $db_TimeModified, $db_EditSequence, $db_TxnNumber, $db_CustomerRef_ListID, $db_CustomerRef_FullName, $db_ClassRef_ListID, $db_ClassRef_FullName, $db_ARAccountRef_ListID, $db_ARAccountRef_FullName, $db_TemplateRef_ListID, $db_TemplateRef_FullName, $db_TxnDate, $db_RefNumber, $db_BillAddress_Addr1, $db_BillAddress_Addr2, $db_BillAddress_Addr3, $db_BillAddress_Addr4, $db_BillAddress_Addr5, $db_BillAddress_City, $db_BillAddress_State, $db_BillAddress_PostalCode, $db_BillAddress_Country, $db_BillAddress_Note, $db_ShipAddress_Addr1, $db_ShipAddress_Addr2, $db_ShipAddress_Addr3, $db_ShipAddress_Addr4, $db_ShipAddress_Addr5, $db_ShipAddress_City, $db_ShipAddress_State, $db_ShipAddress_PostalCode, $db_ShipAddress_Country, $db_ShipAddress_Note, $db_IsPending, $db_IsFinanceCharge, $db_PONumber, $db_TermsRef_ListID, $db_TermsRef_FullName, $db_DueDate, $db_SalesRepRef_ListID, $db_SalesRepRef_FullName, $db_FOB, $db_ShipDate, $db_ShipMethodRef_ListID, $db_ShipMethodRef_FullName, $db_Subtotal, $db_ItemSalesTaxRef_ListID, $db_ItemSalesTaxRef_FullName, $db_SalesTaxPercentage, $db_SalesTaxTotal, $db_AppliedAmount, $db_BalanceRemaining, $db_CurrencyRef_ListID, $db_CurrencyRef_FullName, $db_ExchangeRate, $db_BalanceRemainingInHomeCurrency, $db_Memo, $db_IsPaid, $db_CustomerMsgRef_ListID, $db_CustomerMsgRef_FullName, $db_IsToBePrinted, $db_IsToBeEmailed, $db_IsTaxIncluded, $db_CustomerSalesTaxCodeRef_ListID, $db_CustomerSalesTaxCodeRef_FullName, $db_SuggestedDiscountAmount, $db_SuggestedDiscountDate, $db_Other, $db_CustomField1, $db_CustomField2, $db_CustomField3, $db_CustomField4, $db_CustomField5, $db_CustomField6, $db_CustomField7, $db_CustomField8, $db_CustomField9, $db_CustomField10, $db_CustomField11, $db_CustomField12, $db_CustomField13, $db_CustomField14, $db_CustomField15, $db_Status);
            $stmt->execute();
                if ($stmt->fetch()) {
                $this->TxnID = $db_TxnID;
$this->TimeCreated = $db_TimeCreated;
$this->TimeModified = $db_TimeModified;
$this->EditSequence = $db_EditSequence;
$this->TxnNumber = $db_TxnNumber;
$this->CustomerRef_ListID = $db_CustomerRef_ListID;
$this->CustomerRef_FullName = $db_CustomerRef_FullName;
$this->ClassRef_ListID = $db_ClassRef_ListID;
$this->ClassRef_FullName = $db_ClassRef_FullName;
$this->ARAccountRef_ListID = $db_ARAccountRef_ListID;
$this->ARAccountRef_FullName = $db_ARAccountRef_FullName;
$this->TemplateRef_ListID = $db_TemplateRef_ListID;
$this->TemplateRef_FullName = $db_TemplateRef_FullName;
$this->TxnDate = $db_TxnDate;
$this->RefNumber = $db_RefNumber;
$this->BillAddress_Addr1 = $db_BillAddress_Addr1;
$this->BillAddress_Addr2 = $db_BillAddress_Addr2;
$this->BillAddress_Addr3 = $db_BillAddress_Addr3;
$this->BillAddress_Addr4 = $db_BillAddress_Addr4;
$this->BillAddress_Addr5 = $db_BillAddress_Addr5;
$this->BillAddress_City = $db_BillAddress_City;
$this->BillAddress_State = $db_BillAddress_State;
$this->BillAddress_PostalCode = $db_BillAddress_PostalCode;
$this->BillAddress_Country = $db_BillAddress_Country;
$this->BillAddress_Note = $db_BillAddress_Note;
$this->ShipAddress_Addr1 = $db_ShipAddress_Addr1;
$this->ShipAddress_Addr2 = $db_ShipAddress_Addr2;
$this->ShipAddress_Addr3 = $db_ShipAddress_Addr3;
$this->ShipAddress_Addr4 = $db_ShipAddress_Addr4;
$this->ShipAddress_Addr5 = $db_ShipAddress_Addr5;
$this->ShipAddress_City = $db_ShipAddress_City;
$this->ShipAddress_State = $db_ShipAddress_State;
$this->ShipAddress_PostalCode = $db_ShipAddress_PostalCode;
$this->ShipAddress_Country = $db_ShipAddress_Country;
$this->ShipAddress_Note = $db_ShipAddress_Note;
$this->IsPending = $db_IsPending;
$this->IsFinanceCharge = $db_IsFinanceCharge;
$this->PONumber = $db_PONumber;
$this->TermsRef_ListID = $db_TermsRef_ListID;
$this->TermsRef_FullName = $db_TermsRef_FullName;
$this->DueDate = $db_DueDate;
$this->SalesRepRef_ListID = $db_SalesRepRef_ListID;
$this->SalesRepRef_FullName = $db_SalesRepRef_FullName;
$this->FOB = $db_FOB;
$this->ShipDate = $db_ShipDate;
$this->ShipMethodRef_ListID = $db_ShipMethodRef_ListID;
$this->ShipMethodRef_FullName = $db_ShipMethodRef_FullName;
$this->Subtotal = $db_Subtotal;
$this->ItemSalesTaxRef_ListID = $db_ItemSalesTaxRef_ListID;
$this->ItemSalesTaxRef_FullName = $db_ItemSalesTaxRef_FullName;
$this->SalesTaxPercentage = $db_SalesTaxPercentage;
$this->SalesTaxTotal = $db_SalesTaxTotal;
$this->AppliedAmount = $db_AppliedAmount;
$this->BalanceRemaining = $db_BalanceRemaining;
$this->CurrencyRef_ListID = $db_CurrencyRef_ListID;
$this->CurrencyRef_FullName = $db_CurrencyRef_FullName;
$this->ExchangeRate = $db_ExchangeRate;
$this->BalanceRemainingInHomeCurrency = $db_BalanceRemainingInHomeCurrency;
$this->Memo = $db_Memo;
$this->IsPaid = $db_IsPaid;
$this->CustomerMsgRef_ListID = $db_CustomerMsgRef_ListID;
$this->CustomerMsgRef_FullName = $db_CustomerMsgRef_FullName;
$this->IsToBePrinted = $db_IsToBePrinted;
$this->IsToBeEmailed = $db_IsToBeEmailed;
$this->IsTaxIncluded = $db_IsTaxIncluded;
$this->CustomerSalesTaxCodeRef_ListID = $db_CustomerSalesTaxCodeRef_ListID;
$this->CustomerSalesTaxCodeRef_FullName = $db_CustomerSalesTaxCodeRef_FullName;
$this->SuggestedDiscountAmount = $db_SuggestedDiscountAmount;
$this->SuggestedDiscountDate = $db_SuggestedDiscountDate;
$this->Other = $db_Other;
$this->CustomField1 = $db_CustomField1;
$this->CustomField2 = $db_CustomField2;
$this->CustomField3 = $db_CustomField3;
$this->CustomField4 = $db_CustomField4;
$this->CustomField5 = $db_CustomField5;
$this->CustomField6 = $db_CustomField6;
$this->CustomField7 = $db_CustomField7;
$this->CustomField8 = $db_CustomField8;
$this->CustomField9 = $db_CustomField9;
$this->CustomField10 = $db_CustomField10;
$this->CustomField11 = $db_CustomField11;
$this->CustomField12 = $db_CustomField12;
$this->CustomField13 = $db_CustomField13;
$this->CustomField14 = $db_CustomField14;
$this->CustomField15 = $db_CustomField15;
$this->Status = $db_Status;


            }
$db->close();
}

// *******************************
// SELECT METHOD / FETCH LOOP
// *******************************

function seleccionar($id)
{

$db = $this->db->aurora_connect();
$sql =  "SELECT * FROM invoice WHERE TxnID = ?";
$stmt = $db->prepare($sql) or die(mysqli_error($db));
    $stmt->bind_param("s", $id);
        $stmt->bind_result($db_TxnID, $db_TimeCreated, $db_TimeModified, $db_EditSequence, $db_TxnNumber, $db_CustomerRef_ListID, $db_CustomerRef_FullName, $db_ClassRef_ListID, $db_ClassRef_FullName, $db_ARAccountRef_ListID, $db_ARAccountRef_FullName, $db_TemplateRef_ListID, $db_TemplateRef_FullName, $db_TxnDate, $db_RefNumber, $db_BillAddress_Addr1, $db_BillAddress_Addr2, $db_BillAddress_Addr3, $db_BillAddress_Addr4, $db_BillAddress_Addr5, $db_BillAddress_City, $db_BillAddress_State, $db_BillAddress_PostalCode, $db_BillAddress_Country, $db_BillAddress_Note, $db_ShipAddress_Addr1, $db_ShipAddress_Addr2, $db_ShipAddress_Addr3, $db_ShipAddress_Addr4, $db_ShipAddress_Addr5, $db_ShipAddress_City, $db_ShipAddress_State, $db_ShipAddress_PostalCode, $db_ShipAddress_Country, $db_ShipAddress_Note, $db_IsPending, $db_IsFinanceCharge, $db_PONumber, $db_TermsRef_ListID, $db_TermsRef_FullName, $db_DueDate, $db_SalesRepRef_ListID, $db_SalesRepRef_FullName, $db_FOB, $db_ShipDate, $db_ShipMethodRef_ListID, $db_ShipMethodRef_FullName, $db_Subtotal, $db_ItemSalesTaxRef_ListID, $db_ItemSalesTaxRef_FullName, $db_SalesTaxPercentage, $db_SalesTaxTotal, $db_AppliedAmount, $db_BalanceRemaining, $db_CurrencyRef_ListID, $db_CurrencyRef_FullName, $db_ExchangeRate, $db_BalanceRemainingInHomeCurrency, $db_Memo, $db_IsPaid, $db_CustomerMsgRef_ListID, $db_CustomerMsgRef_FullName, $db_IsToBePrinted, $db_IsToBeEmailed, $db_IsTaxIncluded, $db_CustomerSalesTaxCodeRef_ListID, $db_CustomerSalesTaxCodeRef_FullName, $db_SuggestedDiscountAmount, $db_SuggestedDiscountDate, $db_Other, $db_CustomField1, $db_CustomField2, $db_CustomField3, $db_CustomField4, $db_CustomField5, $db_CustomField6, $db_CustomField7, $db_CustomField8, $db_CustomField9, $db_CustomField10, $db_CustomField11, $db_CustomField12, $db_CustomField13, $db_CustomField14, $db_CustomField15, $db_Status);
            $stmt->execute();
                while ($stmt->fetch()) {
                $this->TxnID = $db_TxnID;
$this->TimeCreated = $db_TimeCreated;
$this->TimeModified = $db_TimeModified;
$this->EditSequence = $db_EditSequence;
$this->TxnNumber = $db_TxnNumber;
$this->CustomerRef_ListID = $db_CustomerRef_ListID;
$this->CustomerRef_FullName = $db_CustomerRef_FullName;
$this->ClassRef_ListID = $db_ClassRef_ListID;
$this->ClassRef_FullName = $db_ClassRef_FullName;
$this->ARAccountRef_ListID = $db_ARAccountRef_ListID;
$this->ARAccountRef_FullName = $db_ARAccountRef_FullName;
$this->TemplateRef_ListID = $db_TemplateRef_ListID;
$this->TemplateRef_FullName = $db_TemplateRef_FullName;
$this->TxnDate = $db_TxnDate;
$this->RefNumber = $db_RefNumber;
$this->BillAddress_Addr1 = $db_BillAddress_Addr1;
$this->BillAddress_Addr2 = $db_BillAddress_Addr2;
$this->BillAddress_Addr3 = $db_BillAddress_Addr3;
$this->BillAddress_Addr4 = $db_BillAddress_Addr4;
$this->BillAddress_Addr5 = $db_BillAddress_Addr5;
$this->BillAddress_City = $db_BillAddress_City;
$this->BillAddress_State = $db_BillAddress_State;
$this->BillAddress_PostalCode = $db_BillAddress_PostalCode;
$this->BillAddress_Country = $db_BillAddress_Country;
$this->BillAddress_Note = $db_BillAddress_Note;
$this->ShipAddress_Addr1 = $db_ShipAddress_Addr1;
$this->ShipAddress_Addr2 = $db_ShipAddress_Addr2;
$this->ShipAddress_Addr3 = $db_ShipAddress_Addr3;
$this->ShipAddress_Addr4 = $db_ShipAddress_Addr4;
$this->ShipAddress_Addr5 = $db_ShipAddress_Addr5;
$this->ShipAddress_City = $db_ShipAddress_City;
$this->ShipAddress_State = $db_ShipAddress_State;
$this->ShipAddress_PostalCode = $db_ShipAddress_PostalCode;
$this->ShipAddress_Country = $db_ShipAddress_Country;
$this->ShipAddress_Note = $db_ShipAddress_Note;
$this->IsPending = $db_IsPending;
$this->IsFinanceCharge = $db_IsFinanceCharge;
$this->PONumber = $db_PONumber;
$this->TermsRef_ListID = $db_TermsRef_ListID;
$this->TermsRef_FullName = $db_TermsRef_FullName;
$this->DueDate = $db_DueDate;
$this->SalesRepRef_ListID = $db_SalesRepRef_ListID;
$this->SalesRepRef_FullName = $db_SalesRepRef_FullName;
$this->FOB = $db_FOB;
$this->ShipDate = $db_ShipDate;
$this->ShipMethodRef_ListID = $db_ShipMethodRef_ListID;
$this->ShipMethodRef_FullName = $db_ShipMethodRef_FullName;
$this->Subtotal = $db_Subtotal;
$this->ItemSalesTaxRef_ListID = $db_ItemSalesTaxRef_ListID;
$this->ItemSalesTaxRef_FullName = $db_ItemSalesTaxRef_FullName;
$this->SalesTaxPercentage = $db_SalesTaxPercentage;
$this->SalesTaxTotal = $db_SalesTaxTotal;
$this->AppliedAmount = $db_AppliedAmount;
$this->BalanceRemaining = $db_BalanceRemaining;
$this->CurrencyRef_ListID = $db_CurrencyRef_ListID;
$this->CurrencyRef_FullName = $db_CurrencyRef_FullName;
$this->ExchangeRate = $db_ExchangeRate;
$this->BalanceRemainingInHomeCurrency = $db_BalanceRemainingInHomeCurrency;
$this->Memo = $db_Memo;
$this->IsPaid = $db_IsPaid;
$this->CustomerMsgRef_ListID = $db_CustomerMsgRef_ListID;
$this->CustomerMsgRef_FullName = $db_CustomerMsgRef_FullName;
$this->IsToBePrinted = $db_IsToBePrinted;
$this->IsToBeEmailed = $db_IsToBeEmailed;
$this->IsTaxIncluded = $db_IsTaxIncluded;
$this->CustomerSalesTaxCodeRef_ListID = $db_CustomerSalesTaxCodeRef_ListID;
$this->CustomerSalesTaxCodeRef_FullName = $db_CustomerSalesTaxCodeRef_FullName;
$this->SuggestedDiscountAmount = $db_SuggestedDiscountAmount;
$this->SuggestedDiscountDate = $db_SuggestedDiscountDate;
$this->Other = $db_Other;
$this->CustomField1 = $db_CustomField1;
$this->CustomField2 = $db_CustomField2;
$this->CustomField3 = $db_CustomField3;
$this->CustomField4 = $db_CustomField4;
$this->CustomField5 = $db_CustomField5;
$this->CustomField6 = $db_CustomField6;
$this->CustomField7 = $db_CustomField7;
$this->CustomField8 = $db_CustomField8;
$this->CustomField9 = $db_CustomField9;
$this->CustomField10 = $db_CustomField10;
$this->CustomField11 = $db_CustomField11;
$this->CustomField12 = $db_CustomField12;
$this->CustomField13 = $db_CustomField13;
$this->CustomField14 = $db_CustomField14;
$this->CustomField15 = $db_CustomField15;
$this->Status = $db_Status;


            }
$db->close();
}

// *******************************
// SELECT METHOD / FETCH LOOP
// *******************************
function buscaIgual_invoice() {
    $estado = "ERR";
//    $this->db1 = conecta_PDO();
    $this->db->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
    try {
        $sql =  "SELECT * FROM invoice WHERE TxnID = :clave ";
        $stmt = $this->db->prepare($sql);
        $stmt->bindParam(':clave', $_SESSION['invoice']['TxnID']);
        $stmt->execute();
        $registro = $stmt->fetch(PDO::FETCH_ASSOC);
        if ( ! $registro){
            $estado = "OK";
        } else {
            if ($registro['TxnID'] === $_SESSION['invoice']['TxnID']) {
                $estado = "ACTUALIZA";
            }
        }
            
} catch(PDOException $e) {
    echo $e->getMessage();
} 
    
return $estado;
}

function recorrer($id)
{

$db = $this->db->aurora_connect();
$sql =  "SELECT * FROM invoice WHERE TxnID = ?";
$stmt = $db->prepare($sql) or die(mysqli_error($db));
    $stmt->bind_param("s", $id);
        $stmt->bind_result($db_TxnID, $db_TimeCreated, $db_TimeModified, $db_EditSequence, $db_TxnNumber, $db_CustomerRef_ListID, $db_CustomerRef_FullName, $db_ClassRef_ListID, $db_ClassRef_FullName, $db_ARAccountRef_ListID, $db_ARAccountRef_FullName, $db_TemplateRef_ListID, $db_TemplateRef_FullName, $db_TxnDate, $db_RefNumber, $db_BillAddress_Addr1, $db_BillAddress_Addr2, $db_BillAddress_Addr3, $db_BillAddress_Addr4, $db_BillAddress_Addr5, $db_BillAddress_City, $db_BillAddress_State, $db_BillAddress_PostalCode, $db_BillAddress_Country, $db_BillAddress_Note, $db_ShipAddress_Addr1, $db_ShipAddress_Addr2, $db_ShipAddress_Addr3, $db_ShipAddress_Addr4, $db_ShipAddress_Addr5, $db_ShipAddress_City, $db_ShipAddress_State, $db_ShipAddress_PostalCode, $db_ShipAddress_Country, $db_ShipAddress_Note, $db_IsPending, $db_IsFinanceCharge, $db_PONumber, $db_TermsRef_ListID, $db_TermsRef_FullName, $db_DueDate, $db_SalesRepRef_ListID, $db_SalesRepRef_FullName, $db_FOB, $db_ShipDate, $db_ShipMethodRef_ListID, $db_ShipMethodRef_FullName, $db_Subtotal, $db_ItemSalesTaxRef_ListID, $db_ItemSalesTaxRef_FullName, $db_SalesTaxPercentage, $db_SalesTaxTotal, $db_AppliedAmount, $db_BalanceRemaining, $db_CurrencyRef_ListID, $db_CurrencyRef_FullName, $db_ExchangeRate, $db_BalanceRemainingInHomeCurrency, $db_Memo, $db_IsPaid, $db_CustomerMsgRef_ListID, $db_CustomerMsgRef_FullName, $db_IsToBePrinted, $db_IsToBeEmailed, $db_IsTaxIncluded, $db_CustomerSalesTaxCodeRef_ListID, $db_CustomerSalesTaxCodeRef_FullName, $db_SuggestedDiscountAmount, $db_SuggestedDiscountDate, $db_Other, $db_CustomField1, $db_CustomField2, $db_CustomField3, $db_CustomField4, $db_CustomField5, $db_CustomField6, $db_CustomField7, $db_CustomField8, $db_CustomField9, $db_CustomField10, $db_CustomField11, $db_CustomField12, $db_CustomField13, $db_CustomField14, $db_CustomField15, $db_Status);
            $stmt->execute();
                if ($stmt->fetch()) {
                $_SESSION['invoice']['TxnID'] = $this->getTxnID();
$_SESSION['invoice']['TimeCreated'] = $this->getTimeCreated();
$_SESSION['invoice']['TimeModified'] = $this->getTimeModified();
$_SESSION['invoice']['EditSequence'] = $this->getEditSequence();
$_SESSION['invoice']['TxnNumber'] = $this->getTxnNumber();
$_SESSION['invoice']['CustomerRef_ListID'] = $this->getCustomerRef_ListID();
$_SESSION['invoice']['CustomerRef_FullName'] = $this->getCustomerRef_FullName();
$_SESSION['invoice']['ClassRef_ListID'] = $this->getClassRef_ListID();
$_SESSION['invoice']['ClassRef_FullName'] = $this->getClassRef_FullName();
$_SESSION['invoice']['ARAccountRef_ListID'] = $this->getARAccountRef_ListID();
$_SESSION['invoice']['ARAccountRef_FullName'] = $this->getARAccountRef_FullName();
$_SESSION['invoice']['TemplateRef_ListID'] = $this->getTemplateRef_ListID();
$_SESSION['invoice']['TemplateRef_FullName'] = $this->getTemplateRef_FullName();
$_SESSION['invoice']['TxnDate'] = $this->getTxnDate();
$_SESSION['invoice']['RefNumber'] = $this->getRefNumber();
$_SESSION['invoice']['BillAddress_Addr1'] = $this->getBillAddress_Addr1();
$_SESSION['invoice']['BillAddress_Addr2'] = $this->getBillAddress_Addr2();
$_SESSION['invoice']['BillAddress_Addr3'] = $this->getBillAddress_Addr3();
$_SESSION['invoice']['BillAddress_Addr4'] = $this->getBillAddress_Addr4();
$_SESSION['invoice']['BillAddress_Addr5'] = $this->getBillAddress_Addr5();
$_SESSION['invoice']['BillAddress_City'] = $this->getBillAddress_City();
$_SESSION['invoice']['BillAddress_State'] = $this->getBillAddress_State();
$_SESSION['invoice']['BillAddress_PostalCode'] = $this->getBillAddress_PostalCode();
$_SESSION['invoice']['BillAddress_Country'] = $this->getBillAddress_Country();
$_SESSION['invoice']['BillAddress_Note'] = $this->getBillAddress_Note();
$_SESSION['invoice']['ShipAddress_Addr1'] = $this->getShipAddress_Addr1();
$_SESSION['invoice']['ShipAddress_Addr2'] = $this->getShipAddress_Addr2();
$_SESSION['invoice']['ShipAddress_Addr3'] = $this->getShipAddress_Addr3();
$_SESSION['invoice']['ShipAddress_Addr4'] = $this->getShipAddress_Addr4();
$_SESSION['invoice']['ShipAddress_Addr5'] = $this->getShipAddress_Addr5();
$_SESSION['invoice']['ShipAddress_City'] = $this->getShipAddress_City();
$_SESSION['invoice']['ShipAddress_State'] = $this->getShipAddress_State();
$_SESSION['invoice']['ShipAddress_PostalCode'] = $this->getShipAddress_PostalCode();
$_SESSION['invoice']['ShipAddress_Country'] = $this->getShipAddress_Country();
$_SESSION['invoice']['ShipAddress_Note'] = $this->getShipAddress_Note();
$_SESSION['invoice']['IsPending'] = $this->getIsPending();
$_SESSION['invoice']['IsFinanceCharge'] = $this->getIsFinanceCharge();
$_SESSION['invoice']['PONumber'] = $this->getPONumber();
$_SESSION['invoice']['TermsRef_ListID'] = $this->getTermsRef_ListID();
$_SESSION['invoice']['TermsRef_FullName'] = $this->getTermsRef_FullName();
$_SESSION['invoice']['DueDate'] = $this->getDueDate();
$_SESSION['invoice']['SalesRepRef_ListID'] = $this->getSalesRepRef_ListID();
$_SESSION['invoice']['SalesRepRef_FullName'] = $this->getSalesRepRef_FullName();
$_SESSION['invoice']['FOB'] = $this->getFOB();
$_SESSION['invoice']['ShipDate'] = $this->getShipDate();
$_SESSION['invoice']['ShipMethodRef_ListID'] = $this->getShipMethodRef_ListID();
$_SESSION['invoice']['ShipMethodRef_FullName'] = $this->getShipMethodRef_FullName();
$_SESSION['invoice']['Subtotal'] = $this->getSubtotal();
$_SESSION['invoice']['ItemSalesTaxRef_ListID'] = $this->getItemSalesTaxRef_ListID();
$_SESSION['invoice']['ItemSalesTaxRef_FullName'] = $this->getItemSalesTaxRef_FullName();
$_SESSION['invoice']['SalesTaxPercentage'] = $this->getSalesTaxPercentage();
$_SESSION['invoice']['SalesTaxTotal'] = $this->getSalesTaxTotal();
$_SESSION['invoice']['AppliedAmount'] = $this->getAppliedAmount();
$_SESSION['invoice']['BalanceRemaining'] = $this->getBalanceRemaining();
$_SESSION['invoice']['CurrencyRef_ListID'] = $this->getCurrencyRef_ListID();
$_SESSION['invoice']['CurrencyRef_FullName'] = $this->getCurrencyRef_FullName();
$_SESSION['invoice']['ExchangeRate'] = $this->getExchangeRate();
$_SESSION['invoice']['BalanceRemainingInHomeCurrency'] = $this->getBalanceRemainingInHomeCurrency();
$_SESSION['invoice']['Memo'] = $this->getMemo();
$_SESSION['invoice']['IsPaid'] = $this->getIsPaid();
$_SESSION['invoice']['CustomerMsgRef_ListID'] = $this->getCustomerMsgRef_ListID();
$_SESSION['invoice']['CustomerMsgRef_FullName'] = $this->getCustomerMsgRef_FullName();
$_SESSION['invoice']['IsToBePrinted'] = $this->getIsToBePrinted();
$_SESSION['invoice']['IsToBeEmailed'] = $this->getIsToBeEmailed();
$_SESSION['invoice']['IsTaxIncluded'] = $this->getIsTaxIncluded();
$_SESSION['invoice']['CustomerSalesTaxCodeRef_ListID'] = $this->getCustomerSalesTaxCodeRef_ListID();
$_SESSION['invoice']['CustomerSalesTaxCodeRef_FullName'] = $this->getCustomerSalesTaxCodeRef_FullName();
$_SESSION['invoice']['SuggestedDiscountAmount'] = $this->getSuggestedDiscountAmount();
$_SESSION['invoice']['SuggestedDiscountDate'] = $this->getSuggestedDiscountDate();
$_SESSION['invoice']['Other'] = $this->getOther();
$_SESSION['invoice']['CustomField1'] = $this->getCustomField1();
$_SESSION['invoice']['CustomField2'] = $this->getCustomField2();
$_SESSION['invoice']['CustomField3'] = $this->getCustomField3();
$_SESSION['invoice']['CustomField4'] = $this->getCustomField4();
$_SESSION['invoice']['CustomField5'] = $this->getCustomField5();
$_SESSION['invoice']['CustomField6'] = $this->getCustomField6();
$_SESSION['invoice']['CustomField7'] = $this->getCustomField7();
$_SESSION['invoice']['CustomField8'] = $this->getCustomField8();
$_SESSION['invoice']['CustomField9'] = $this->getCustomField9();
$_SESSION['invoice']['CustomField10'] = $this->getCustomField10();
$_SESSION['invoice']['CustomField11'] = $this->getCustomField11();
$_SESSION['invoice']['CustomField12'] = $this->getCustomField12();
$_SESSION['invoice']['CustomField13'] = $this->getCustomField13();
$_SESSION['invoice']['CustomField14'] = $this->getCustomField14();
$_SESSION['invoice']['CustomField15'] = $this->getCustomField15();
$_SESSION['invoice']['Status'] = $this->getStatus();
                }
}

// *******************************
// UNSET METHOD / clean
// *******************************

function cleanSession_invoice($jsonString)
{

unset($_SESSION['invoice']['TxnID']);
unset($_SESSION['invoice']['TimeCreated']);
unset($_SESSION['invoice']['TimeModified']);
unset($_SESSION['invoice']['EditSequence']);
unset($_SESSION['invoice']['TxnNumber']);
unset($_SESSION['invoice']['CustomerRef_ListID']);
unset($_SESSION['invoice']['CustomerRef_FullName']);
unset($_SESSION['invoice']['ClassRef_ListID']);
unset($_SESSION['invoice']['ClassRef_FullName']);
unset($_SESSION['invoice']['ARAccountRef_ListID']);
unset($_SESSION['invoice']['ARAccountRef_FullName']);
unset($_SESSION['invoice']['TemplateRef_ListID']);
unset($_SESSION['invoice']['TemplateRef_FullName']);
unset($_SESSION['invoice']['TxnDate']);
unset($_SESSION['invoice']['RefNumber']);
unset($_SESSION['invoice']['BillAddress_Addr1']);
unset($_SESSION['invoice']['BillAddress_Addr2']);
unset($_SESSION['invoice']['BillAddress_Addr3']);
unset($_SESSION['invoice']['BillAddress_Addr4']);
unset($_SESSION['invoice']['BillAddress_Addr5']);
unset($_SESSION['invoice']['BillAddress_City']);
unset($_SESSION['invoice']['BillAddress_State']);
unset($_SESSION['invoice']['BillAddress_PostalCode']);
unset($_SESSION['invoice']['BillAddress_Country']);
unset($_SESSION['invoice']['BillAddress_Note']);
unset($_SESSION['invoice']['ShipAddress_Addr1']);
unset($_SESSION['invoice']['ShipAddress_Addr2']);
unset($_SESSION['invoice']['ShipAddress_Addr3']);
unset($_SESSION['invoice']['ShipAddress_Addr4']);
unset($_SESSION['invoice']['ShipAddress_Addr5']);
unset($_SESSION['invoice']['ShipAddress_City']);
unset($_SESSION['invoice']['ShipAddress_State']);
unset($_SESSION['invoice']['ShipAddress_PostalCode']);
unset($_SESSION['invoice']['ShipAddress_Country']);
unset($_SESSION['invoice']['ShipAddress_Note']);
unset($_SESSION['invoice']['IsPending']);
unset($_SESSION['invoice']['IsFinanceCharge']);
unset($_SESSION['invoice']['PONumber']);
unset($_SESSION['invoice']['TermsRef_ListID']);
unset($_SESSION['invoice']['TermsRef_FullName']);
unset($_SESSION['invoice']['DueDate']);
unset($_SESSION['invoice']['SalesRepRef_ListID']);
unset($_SESSION['invoice']['SalesRepRef_FullName']);
unset($_SESSION['invoice']['FOB']);
unset($_SESSION['invoice']['ShipDate']);
unset($_SESSION['invoice']['ShipMethodRef_ListID']);
unset($_SESSION['invoice']['ShipMethodRef_FullName']);
unset($_SESSION['invoice']['Subtotal']);
unset($_SESSION['invoice']['ItemSalesTaxRef_ListID']);
unset($_SESSION['invoice']['ItemSalesTaxRef_FullName']);
unset($_SESSION['invoice']['SalesTaxPercentage']);
unset($_SESSION['invoice']['SalesTaxTotal']);
unset($_SESSION['invoice']['AppliedAmount']);
unset($_SESSION['invoice']['BalanceRemaining']);
unset($_SESSION['invoice']['CurrencyRef_ListID']);
unset($_SESSION['invoice']['CurrencyRef_FullName']);
unset($_SESSION['invoice']['ExchangeRate']);
unset($_SESSION['invoice']['BalanceRemainingInHomeCurrency']);
unset($_SESSION['invoice']['Memo']);
unset($_SESSION['invoice']['IsPaid']);
unset($_SESSION['invoice']['CustomerMsgRef_ListID']);
unset($_SESSION['invoice']['CustomerMsgRef_FullName']);
unset($_SESSION['invoice']['IsToBePrinted']);
unset($_SESSION['invoice']['IsToBeEmailed']);
unset($_SESSION['invoice']['IsTaxIncluded']);
unset($_SESSION['invoice']['CustomerSalesTaxCodeRef_ListID']);
unset($_SESSION['invoice']['CustomerSalesTaxCodeRef_FullName']);
unset($_SESSION['invoice']['SuggestedDiscountAmount']);
unset($_SESSION['invoice']['SuggestedDiscountDate']);
unset($_SESSION['invoice']['Other']);
unset($_SESSION['invoice']['CustomField1']);
unset($_SESSION['invoice']['CustomField2']);
unset($_SESSION['invoice']['CustomField3']);
unset($_SESSION['invoice']['CustomField4']);
unset($_SESSION['invoice']['CustomField5']);
unset($_SESSION['invoice']['CustomField6']);
unset($_SESSION['invoice']['CustomField7']);
unset($_SESSION['invoice']['CustomField8']);
unset($_SESSION['invoice']['CustomField9']);
unset($_SESSION['invoice']['CustomField10']);
unset($_SESSION['invoice']['CustomField11']);
unset($_SESSION['invoice']['CustomField12']);
unset($_SESSION['invoice']['CustomField13']);
unset($_SESSION['invoice']['CustomField14']);
unset($_SESSION['invoice']['CustomField15']);
unset($_SESSION['invoice']['Status']);

}

// **********************
// DELETE
// **********************

function delete($id)
{
$db = $this->db->aurora_connect();
$sql = "DELETE FROM invoice WHERE TxnID = ?";
$stmt = $db->prepare($sql) or die(mysqli_error($db));
    $stmt->bind_param("s", $id);
        $stmt->execute();

$db->close();
}

// **********************
// INSERT
// **********************

function insert()
{
$this->TxnID = ""; // clear key for autoincrement
$db = $this->db->aurora_connect();
$sql = "INSERT INTO invoice ( TimeCreated,TimeModified,EditSequence,TxnNumber,CustomerRef_ListID,CustomerRef_FullName,ClassRef_ListID,ClassRef_FullName,ARAccountRef_ListID,ARAccountRef_FullName,TemplateRef_ListID,TemplateRef_FullName,TxnDate,RefNumber,BillAddress_Addr1,BillAddress_Addr2,BillAddress_Addr3,BillAddress_Addr4,BillAddress_Addr5,BillAddress_City,BillAddress_State,BillAddress_PostalCode,BillAddress_Country,BillAddress_Note,ShipAddress_Addr1,ShipAddress_Addr2,ShipAddress_Addr3,ShipAddress_Addr4,ShipAddress_Addr5,ShipAddress_City,ShipAddress_State,ShipAddress_PostalCode,ShipAddress_Country,ShipAddress_Note,IsPending,IsFinanceCharge,PONumber,TermsRef_ListID,TermsRef_FullName,DueDate,SalesRepRef_ListID,SalesRepRef_FullName,FOB,ShipDate,ShipMethodRef_ListID,ShipMethodRef_FullName,Subtotal,ItemSalesTaxRef_ListID,ItemSalesTaxRef_FullName,SalesTaxPercentage,SalesTaxTotal,AppliedAmount,BalanceRemaining,CurrencyRef_ListID,CurrencyRef_FullName,ExchangeRate,BalanceRemainingInHomeCurrency,Memo,IsPaid,CustomerMsgRef_ListID,CustomerMsgRef_FullName,IsToBePrinted,IsToBeEmailed,IsTaxIncluded,CustomerSalesTaxCodeRef_ListID,CustomerSalesTaxCodeRef_FullName,SuggestedDiscountAmount,SuggestedDiscountDate,Other,CustomField1,CustomField2,CustomField3,CustomField4,CustomField5,CustomField6,CustomField7,CustomField8,CustomField9,CustomField10,CustomField11,CustomField12,CustomField13,CustomField14,CustomField15,Status ) VALUES ( '$this->TimeCreated','$this->TimeModified','$this->EditSequence','$this->TxnNumber','$this->CustomerRef_ListID','$this->CustomerRef_FullName','$this->ClassRef_ListID','$this->ClassRef_FullName','$this->ARAccountRef_ListID','$this->ARAccountRef_FullName','$this->TemplateRef_ListID','$this->TemplateRef_FullName','$this->TxnDate','$this->RefNumber','$this->BillAddress_Addr1','$this->BillAddress_Addr2','$this->BillAddress_Addr3','$this->BillAddress_Addr4','$this->BillAddress_Addr5','$this->BillAddress_City','$this->BillAddress_State','$this->BillAddress_PostalCode','$this->BillAddress_Country','$this->BillAddress_Note','$this->ShipAddress_Addr1','$this->ShipAddress_Addr2','$this->ShipAddress_Addr3','$this->ShipAddress_Addr4','$this->ShipAddress_Addr5','$this->ShipAddress_City','$this->ShipAddress_State','$this->ShipAddress_PostalCode','$this->ShipAddress_Country','$this->ShipAddress_Note','$this->IsPending','$this->IsFinanceCharge','$this->PONumber','$this->TermsRef_ListID','$this->TermsRef_FullName','$this->DueDate','$this->SalesRepRef_ListID','$this->SalesRepRef_FullName','$this->FOB','$this->ShipDate','$this->ShipMethodRef_ListID','$this->ShipMethodRef_FullName','$this->Subtotal','$this->ItemSalesTaxRef_ListID','$this->ItemSalesTaxRef_FullName','$this->SalesTaxPercentage','$this->SalesTaxTotal','$this->AppliedAmount','$this->BalanceRemaining','$this->CurrencyRef_ListID','$this->CurrencyRef_FullName','$this->ExchangeRate','$this->BalanceRemainingInHomeCurrency','$this->Memo','$this->IsPaid','$this->CustomerMsgRef_ListID','$this->CustomerMsgRef_FullName','$this->IsToBePrinted','$this->IsToBeEmailed','$this->IsTaxIncluded','$this->CustomerSalesTaxCodeRef_ListID','$this->CustomerSalesTaxCodeRef_FullName','$this->SuggestedDiscountAmount','$this->SuggestedDiscountDate','$this->Other','$this->CustomField1','$this->CustomField2','$this->CustomField3','$this->CustomField4','$this->CustomField5','$this->CustomField6','$this->CustomField7','$this->CustomField8','$this->CustomField9','$this->CustomField10','$this->CustomField11','$this->CustomField12','$this->CustomField13','$this->CustomField14','$this->CustomField15','$this->Status' )";
$stmt = $db->prepare($sql) or die(mysqli_error($db));
$stmt->execute();

$db->close();
}

// **********************
// UPDATE
// **********************

function update_invoice()
{
    $estado = "ERR";
    $this->db->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
    try {
        $sql = " UPDATE invoice SET  TimeCreated = '$this->TimeCreated',TimeModified = '$this->TimeModified',EditSequence = '$this->EditSequence',TxnNumber = '$this->TxnNumber',CustomerRef_ListID = '$this->CustomerRef_ListID',CustomerRef_FullName = '$this->CustomerRef_FullName',ClassRef_ListID = '$this->ClassRef_ListID',ClassRef_FullName = '$this->ClassRef_FullName',ARAccountRef_ListID = '$this->ARAccountRef_ListID',ARAccountRef_FullName = '$this->ARAccountRef_FullName',TemplateRef_ListID = '$this->TemplateRef_ListID',TemplateRef_FullName = '$this->TemplateRef_FullName',TxnDate = '$this->TxnDate',RefNumber = '$this->RefNumber',BillAddress_Addr1 = '$this->BillAddress_Addr1',BillAddress_Addr2 = '$this->BillAddress_Addr2',BillAddress_Addr3 = '$this->BillAddress_Addr3',BillAddress_Addr4 = '$this->BillAddress_Addr4',BillAddress_Addr5 = '$this->BillAddress_Addr5',BillAddress_City = '$this->BillAddress_City',BillAddress_State = '$this->BillAddress_State',BillAddress_PostalCode = '$this->BillAddress_PostalCode',BillAddress_Country = '$this->BillAddress_Country',BillAddress_Note = '$this->BillAddress_Note',ShipAddress_Addr1 = '$this->ShipAddress_Addr1',ShipAddress_Addr2 = '$this->ShipAddress_Addr2',ShipAddress_Addr3 = '$this->ShipAddress_Addr3',ShipAddress_Addr4 = '$this->ShipAddress_Addr4',ShipAddress_Addr5 = '$this->ShipAddress_Addr5',ShipAddress_City = '$this->ShipAddress_City',ShipAddress_State = '$this->ShipAddress_State',ShipAddress_PostalCode = '$this->ShipAddress_PostalCode',ShipAddress_Country = '$this->ShipAddress_Country',ShipAddress_Note = '$this->ShipAddress_Note',IsPending = '$this->IsPending',IsFinanceCharge = '$this->IsFinanceCharge',PONumber = '$this->PONumber',TermsRef_ListID = '$this->TermsRef_ListID',TermsRef_FullName = '$this->TermsRef_FullName',DueDate = '$this->DueDate',SalesRepRef_ListID = '$this->SalesRepRef_ListID',SalesRepRef_FullName = '$this->SalesRepRef_FullName',FOB = '$this->FOB',ShipDate = '$this->ShipDate',ShipMethodRef_ListID = '$this->ShipMethodRef_ListID',ShipMethodRef_FullName = '$this->ShipMethodRef_FullName',Subtotal = '$this->Subtotal',ItemSalesTaxRef_ListID = '$this->ItemSalesTaxRef_ListID',ItemSalesTaxRef_FullName = '$this->ItemSalesTaxRef_FullName',SalesTaxPercentage = '$this->SalesTaxPercentage',SalesTaxTotal = '$this->SalesTaxTotal',AppliedAmount = '$this->AppliedAmount',BalanceRemaining = '$this->BalanceRemaining',CurrencyRef_ListID = '$this->CurrencyRef_ListID',CurrencyRef_FullName = '$this->CurrencyRef_FullName',ExchangeRate = '$this->ExchangeRate',BalanceRemainingInHomeCurrency = '$this->BalanceRemainingInHomeCurrency',Memo = '$this->Memo',IsPaid = '$this->IsPaid',CustomerMsgRef_ListID = '$this->CustomerMsgRef_ListID',CustomerMsgRef_FullName = '$this->CustomerMsgRef_FullName',IsToBePrinted = '$this->IsToBePrinted',IsToBeEmailed = '$this->IsToBeEmailed',IsTaxIncluded = '$this->IsTaxIncluded',CustomerSalesTaxCodeRef_ListID = '$this->CustomerSalesTaxCodeRef_ListID',CustomerSalesTaxCodeRef_FullName = '$this->CustomerSalesTaxCodeRef_FullName',SuggestedDiscountAmount = '$this->SuggestedDiscountAmount',SuggestedDiscountDate = '$this->SuggestedDiscountDate',Other = '$this->Other',CustomField1 = '$this->CustomField1',CustomField2 = '$this->CustomField2',CustomField3 = '$this->CustomField3',CustomField4 = '$this->CustomField4',CustomField5 = '$this->CustomField5',CustomField6 = '$this->CustomField6',CustomField7 = '$this->CustomField7',CustomField8 = '$this->CustomField8',CustomField9 = '$this->CustomField9',CustomField10 = '$this->CustomField10',CustomField11 = '$this->CustomField11',CustomField12 = '$this->CustomField12',CustomField13 = '$this->CustomField13',CustomField14 = '$this->CustomField14',CustomField15 = '$this->CustomField15',Status = '$this->Status' WHERE TxnID = :clave ";
        $stmt = $this->db->prepare($sql);
        $stmt->bindParam(":clave", $_SESSION['invoice']['TxnID']);
        $stmt->execute();
     } catch(PDOException $e) {

     }

}
}

?>
<!-- end of generated class -->
